{"version":3,"sources":["webpack://MegafonTarget/webpack/bootstrap","webpack://MegafonTarget/./node_modules/cmtt-likely/source/config.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/dom.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/utils.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/index.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/storage.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/index.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/widget.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/button.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/service.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/odnoklassniki.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/vk.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/facebook.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/twitter.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/gplus.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/pocket.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/telegram.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/whatsapp.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/viber.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/email.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/services/more.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/fetch.js","webpack://MegafonTarget/./node_modules/cmtt-likely/source/factory.js","webpack://MegafonTarget/./src/config.js","webpack://MegafonTarget/./src/js/lib/analytics.js","webpack://MegafonTarget/./src/js/base.js","webpack://MegafonTarget/./src/js/data.js","webpack://MegafonTarget/./src/js/lib/array.js","webpack://MegafonTarget/./src/js/lib/dom.js","webpack://MegafonTarget/./src/js/lib/share.js","webpack://MegafonTarget/./src/js/lib/u.js","webpack://MegafonTarget/./node_modules/scroll-js/dist/scroll.js","webpack://MegafonTarget/./src/js/special.js","webpack://MegafonTarget/./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","secure","window","location","protocol","prefix","storageKey","breakpoint","config","div","document","createElement","gid","dom","wrapSVG","coords","createNode","html","innerHTML","children","getScript","url","script","head","type","src","appendChild","removeChild","getJSON","callback","encodeURIComponent","replace","find","selector","node","querySelector","findAll","querySelectorAll","isMobile","matchMedia","matches","openPopup","winId","width","height","left","Math","round","screen","top","options","open","bool","yes","no","utils","each","toArray","arrayLike","Array","slice","merge","result","arguments","length","arg","extend","target","subject","flexboxSupport","element","f","fw","e","style","display","className","getDataset","dataset","attribute","attributes","toUpperCase","n0","charAt","test","substr","bools","data","template","text","makeUrl","query","filter","push","join","set","frags","split","last","forEach","index","Service","svg","services","odnoklassniki","vkontakte","facebook","twitter","gplus","pocket","telegram","whatsapp","viber","email","more","service","svgi","isAvailable","localStorage","setItem","removeItem","storage","getItem","item","JSON","parse","stringify","Likely","likely","widget","update","defaults","initiate","initate","widgets","counters","timeout","zeroes","title","wait","href","hash","Button","container","this","isSmartOrder","undefined","smart","countersLeft","buttons","number","init","reorder","savedServices","reverse","button","parentNode","insertBefore","firstChild","addButton","timer","setTimeout","appear","ready","counterUrl","forceUpdate","updateCounter","counter","classList","add","clearTimeout","fetch","htmlSpan","LikelyButton","detectService","detectParams","initHtml","initCounter","classes","parseInt","isNaN","counterNumber","addEventListener","click","remove","content","icon","fullClass","counterElement","toggle","parentElement","popupUrl","rememberClicked","twitterText","twitterUrl","window_url","addAdditionalParamsToUrl","popupWidth","popupHeight","parameters","delimeter","indexOf","serviceIndex","splice","factory","self","count","convertNumber","promise","promises","share","share_count","parent","Factory","factories","listeners","argument","listener","projectConfig","analyticsCategory","sendPageView","listenedEvents","sendEvent","label","action","concat","dataLayer","event","data_description","post_details","section","tags","pathname","BaseSpecial","_classCallCheck","keyCodes","enter","params","body","Analytics","assign","addEventListeners","path","Promise","resolve","reject","link","rel","onload","onerror","_this","eventName","defaultEventHandler","currentTarget","tagName","toLowerCase","typeShowing","quiz","questions","answers","bezos","who","company","right","musk","gates","zuck","levels","sender","answersTexts","chat","answersCommonTexts","vrach","durov","raid","grishin","volozh","tinkov","buck","spiegel","elizabeth","brin","nikolay","richard","gref","cook","bakalchuk","fridman","romanova","max","goncharov","novikov","tatulova","milner","maezawa","results","0","4","7","imagesCDN","images","faces","cook_nichosi","tinkov_nichosi","zuck_nichosi","faces_2x","target_logo","x1","x2","mega_text","final_links","logo","nodeList","from","classNames","attr","_typeof","cname","dataAttributes","styleAttributes","clearNode","exceptions","hasChildNodes","childNodes","node_","trigger","exception","contains","CSS","make","parentContainer","likelyContainer","social","U","qS","nodeName","includes","regExps","links","RegExp","bold","quote","regExps_keys","keys","regExps_g","match","_link","innerText","outerHTML","_bold","_quote","_ref","_ref$min","min","floor","random","createTextNode","scrollTo","el","thisArg","_arguments","generator","Element","Window","Error","sanitizeScrollOptions","scroll","to","prop","startTime","duration","easeFunc","requestAnimationFrame","currentTime","Date","now","time","getDocument","documentElement","scrollTop","setScrollPosition","currentScrollPosition","getScrollPosition","scrollProperty","props","y","x","getScrollPropertyByElement","getEasing","easing","P","fulfilled","step","next","rejected","done","then","apply","scrollIntoView","scroller","errorMsg","HTMLElement","validateElement","currentContainerScrollYPos","elementScrollYPos","offsetTop","pageYOffset","getBoundingClientRect","behavior","easingMap","linear","ease-in","ease-out","ease-in-out","NODES","CDN_URL","Data","Special","special_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","saveParams","css","loadStyles","isFeed","qIndex","qLevel","score","quizLength","btnsClickAbility","theme","act","question","actKeys","qa","qaKeys","qaTmpArray","newAnswerObj","id","a","j","shuffleArray","level","atk","qaa","lol","T","_temp","textSMS","smsContent","faceSMS","answerItemBtn","_this2","S","E","ALL","show","final","phone","phoneFrame","phoneContent","header","headerCounter","headerOperator","headerSender","headerAvatar","answersHeader","answersPhrase","themeSwitcher","htmlFor","themeSwitcherText","themeSwitcherInput","checked","answersMain","answersList","answersResult","answersResultStatus","answersResultText","answersResultBtn","finalResult","finalResultScore","finalResultShare","finalResultRestart","finalResultRestartBtn","restart","finalResultSMS","finalResultFace","alt","finalMegafon","finalMegaLogo","srcset","finalMegaText","paragraph","finalMegaButton","cache","_ref$type","_ref$sender","_ref$text","_ref$typing","typing","_ref$tail","tail","_ref$images","_ref$success","success","_ref$scroll","sms","scrollToSMS","block","cloneNode","senderField","textField","_time","textContent","failure","faceImg","solo","_this3","onclick","nextQuestion","showAnswers","nextLevel","spawnSMS","getCurrentLevel","newQuestion","_this4","currQ","getCurrentQuestion","answerData","answerItem","clicked","cacheImages","cat","isRight","increaseScore","nextEvent","disabled","showResult","_this5","resultsPersonsKeys","person","scoreKey","Number","ourResult","values","Share","finalFaceImg","showScreen","imagesIsCached","image","setInitialParams","prepareQuestions","createTemplates","createElements","__webpack_exports__","special_Special"],"mappings":"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","file":"all.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","/**\r\n * Configuration\r\n */\r\n\r\nvar secure = window.location.protocol === 'https:';\r\n\r\nmodule.exports = {\r\n    name: 'likely',\r\n    prefix: 'likely__',\r\n    secure: secure,\r\n    protocol: secure ? 'https:' : 'http:',\r\n    storageKey: 'likelyServices',\r\n    breakpoint: 680\r\n};","var config = require('./config');\r\n\r\nvar div = document.createElement('div'),\r\n    gid = 0;\r\n\r\nvar dom = module.exports = {\r\n    /**\r\n     * Wrap SVG coords from data object into SVG tag\r\n     *\r\n     * @param {String} coords\r\n     */\r\n    wrapSVG: function (coords) {\r\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" ' + 'viewBox=\"0 0 16 16\"><path d=\"M' + coords + 'z\"/></svg>';\r\n    },\r\n\r\n    /**\r\n     * Create node from HTML\r\n     *\r\n     * @param {String} html\r\n     */\r\n    createNode: function (html) {\r\n        div.innerHTML = html;\r\n\r\n        return div.children[0];\r\n    },\r\n\r\n    /**\r\n     * Load script\r\n     *\r\n     * @param {String} url\r\n     */\r\n    getScript: function (url) {\r\n        var script = document.createElement('script'),\r\n            head   = document.head;\r\n\r\n        script.type = 'text/javascript';\r\n        script.src  = url;\r\n\r\n        head.appendChild(script);\r\n        head.removeChild(script);\r\n    },\r\n\r\n    /**\r\n     * Get JSON\r\n     *\r\n     * @param {String} url\r\n     * @param {Function} callback\r\n     */\r\n    getJSON: function (url, callback) {\r\n        var name = encodeURIComponent('random_fun_' + (++gid));\r\n\r\n        url = url.replace(\r\n            /callback=(\\?)/,\r\n            'callback=' + name\r\n        );\r\n\r\n        window[name] = callback;\r\n\r\n        dom.getScript(url);\r\n    },\r\n\r\n    /**\r\n     * Find first node by selector\r\n     *\r\n     * @param {String} selector\r\n     * @param {Node} node\r\n     * @return {Node}\r\n     */\r\n    find: function (selector, node) {\r\n        return (node || document).querySelector(selector);\r\n    },\r\n\r\n    /**\r\n     * Find all nodes by selector\r\n     *\r\n     * @param {String} selector\r\n     * @param {Node} node\r\n     * @return {NodeList}\r\n     */\r\n    findAll: function (selector, node) {\r\n        return (node || document).querySelectorAll(selector);\r\n    },\r\n\r\n    /**\r\n     * Check mobile media query\r\n     */\r\n    isMobile: function() {\r\n        return !window.matchMedia('(min-width: ' + config.breakpoint + 'px)').matches;\r\n    },\r\n\r\n    /**\r\n     * Open the popup\r\n     *\r\n     * @param {String} url\r\n     * @param {String} winId\r\n     * @param {Number} width,\r\n     * @param {Number} height\r\n     */\r\n    openPopup: function (url, winId, width, height) {\r\n        var left = Math.round(screen.width / 2 - width / 2),\r\n            top  = 0;\r\n\r\n        if (screen.height > height) {\r\n            top = Math.round(screen.height / 3 - height / 2);\r\n        }\r\n\r\n        var options = 'left='    + left +\r\n                      ',top='    + top +\r\n                      ',width='  + width +\r\n                      ',height=' + height +\r\n                      ',personalbar=0,toolbar=0,scrollbars=1,resizable=1';\r\n\r\n        var win = window.open(url, winId, options);\r\n\r\n        // if (!win) {\r\n        //     location.href = url;\r\n        //     return location.href;\r\n        // }\r\n\r\n        // win.focus();\r\n\r\n        return win;\r\n    }\r\n};","var bool = {yes: true, no: false},\r\n    rUrl = /(https?|ftp):\\/\\/[^\\s\\/$.?#].[^\\s]*/gi;\r\n\r\n/**\r\n * @internal\r\n */\r\nvar utils = {\r\n    /**\r\n     * Simple $.each, only for objects\r\n     *\r\n     * @param {Object} object\r\n     * @param {Function} callback\r\n     */\r\n    each: function (object, callback) {\r\n        for (var key in object) {\r\n            if (object.hasOwnProperty(key)) {\r\n                callback(object[key], key);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Convert array-like object to array\r\n     *\r\n     * @param {Object} arrayLike\r\n     * @return {Array}\r\n     */\r\n    toArray: function (arrayLike) {\r\n        return Array.prototype.slice.call(arrayLike);\r\n    },\r\n\r\n    /**\r\n     * Merge given dictionaries (objects) into one object\r\n     *\r\n     * @param {Object} ...objects\r\n     * @return {Object}\r\n     */\r\n    merge: function () {\r\n        var result = {};\r\n\r\n        for (var i = 0; i < arguments.length; i ++) {\r\n            var arg = arguments[i];\r\n\r\n            if (arg) {\r\n                for (var key in arg) {\r\n                    result[key] = arg[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Extend one (target) object by other (subject)\r\n     *\r\n     * @param {Object} target\r\n     * @param {Object} subject\r\n     */\r\n    extend: function (target, subject) {\r\n        for (var key in subject) {\r\n            target[key] = subject[key];\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Check new flexbox syntax support\r\n     */\r\n    flexboxSupport: function(element, name){\r\n        var d = document, f = 'flex', fw = '-webkit-'+f, e = d.createElement('b'), c;\r\n\r\n        try {\r\n            e.style.display = fw;\r\n            e.style.display = f;\r\n            c = (e.style.display == f || e.style.display == fw) ? f : 'no-'+f;\r\n        } catch(e) {\r\n            c = 'no-'+f;\r\n        }\r\n\r\n        element.className += ' ' + name + '--' + c;\r\n    },\r\n\r\n    /**\r\n     * Return node.dataset or plain object for IE 10without setters\r\n     * based on https://gist.github.com/brettz9/4093766#file_html5_dataset.js\r\n     *\r\n     * @param {Node} node\r\n     * @return {Object}\r\n     */\r\n    getDataset: function (node) {\r\n        if (typeof node.dataset === 'object') {\r\n            return node.dataset;\r\n        }\r\n\r\n        var i,\r\n            dataset = {},\r\n            attributes = node.attributes,\r\n            attribute,\r\n            attributeName;\r\n\r\n        var toUpperCase = function (n0) {\r\n            return n0.charAt(1).toUpperCase();\r\n        };\r\n\r\n        for (i = attributes.length - 1; i >= 0; i--) {\r\n            attribute = attributes[i];\r\n            if (attribute && attribute.name &&\r\n                (/^data-\\w[\\w\\-]*$/).test(attribute.name)) {\r\n                    attributeName = attribute.name.substr(5).replace(/-./g, toUpperCase);\r\n                    dataset[attributeName] = attribute.value;\r\n                }\r\n        }\r\n\r\n        return dataset;\r\n    },\r\n\r\n    /**\r\n     * Convert \"yes\" and \"no\" to true and false.\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    bools: function (node) {\r\n        var result = {},\r\n            data   = utils.getDataset(node);\r\n\r\n        for (var key in data) {\r\n            var value = data[key];\r\n\r\n            result[key] = bool[value] || value;\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Map object keys in string to its values\r\n     *\r\n     * @param {String} text\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    template: function (text, data) {\r\n        return !text ? '' : text.replace(/\\{([^\\}]+)\\}/g, function (value, key) {\r\n            return key in data ? data[key] : value;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Map object keys in URL to its values\r\n     *\r\n     * @param {String} text\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    makeUrl: function (text, data) {\r\n        for (var key in data) {\r\n            data[key] = encodeURIComponent(data[key]);\r\n        }\r\n\r\n        return utils.template(text, data);\r\n    },\r\n\r\n    /**\r\n     * Create query string out of data\r\n     *\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    query: function (data) {\r\n        var filter = encodeURIComponent,\r\n            query  = [];\r\n\r\n        for (var key in data) {\r\n            if (typeof data[key] === 'object') continue;\r\n\r\n            query.push(filter(key) + '=' + filter(data[key]));\r\n        }\r\n\r\n        return query.join('&');\r\n    },\r\n\r\n    /**\r\n     * Set value in object using dot-notation\r\n     *\r\n     * @param {Object} object\r\n     * @param {String} key\r\n     * @param {Object} value\r\n     */\r\n    set: function (object, key, value) {\r\n        var frags = key.split('.'),\r\n            last  = null;\r\n\r\n        frags.forEach(function (key, index) {\r\n            if (typeof object[key] === 'undefined') {\r\n                object[key] = {};\r\n            }\r\n\r\n            if (index !== frags.length - 1) {\r\n                object = object[key];\r\n            }\r\n\r\n            last = key;\r\n        });\r\n\r\n        object[last] = value;\r\n    }\r\n};\r\n\r\nmodule.exports = utils;","/**\r\n * Social network services\r\n */\r\n\r\nvar Service = require('../service'),\r\n    utils   = require('../utils'),\r\n    svg     = require('../svg.json');\r\n\r\nvar services = {\r\n    odnoklassniki: require('./odnoklassniki'),\r\n    vkontakte:     require('./vk'),\r\n    facebook:      require('./facebook'),\r\n    twitter:       require('./twitter'),\r\n    gplus:         require('./gplus'),\r\n    pocket:        require('./pocket'),\r\n    telegram:      require('./telegram'),\r\n    whatsapp:      require('./whatsapp'),\r\n    viber:         require('./viber'),\r\n    email:         require('./email'),\r\n    more:          require('./more')\r\n};\r\n\r\nutils.each(services, function (service, key) {\r\n    Service(service);\r\n\r\n    service.svgi = svg[key];\r\n    service.name = key;\r\n});\r\n\r\nmodule.exports = services;","var isAvailable = function() {\r\n\r\n    try {\r\n        window.localStorage.setItem('isStorageAvailable', 1);\r\n        window.localStorage.removeItem('isStorageAvailable');\r\n        return true;\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n\r\n};\r\n\r\nvar storage = {\r\n\r\n    /**\r\n     * Get item from localStorage\r\n     * @param {String} key\r\n     */\r\n    getItem: function(key){\r\n\r\n        if (isAvailable()) {\r\n\r\n            var item = window.localStorage.getItem(key);\r\n\r\n            try {\r\n                JSON.parse(item);\r\n            } catch (e) {\r\n                return item;\r\n            }\r\n\r\n            return JSON.parse(item);\r\n\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * Save item in localStorage\r\n     * @param {String} key\r\n     * @param {String} value\r\n     */\r\n    setItem: function(key, value) {\r\n\r\n        value = (typeof value === 'string') ? value : JSON.stringify(value);\r\n\r\n        if (isAvailable()) {\r\n            window.localStorage.setItem(key, value);\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * Remove item from localStorage\r\n     * @param {String} key\r\n     */\r\n    removeItem: function(key) {\r\n\r\n        if (isAvailable()) {\r\n            window.localStorage.removeItem(key);\r\n        }\r\n\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = storage;","// 'use strict';\r\n\r\nvar Likely = require('./widget'),\r\n    config = require('./config'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom');\r\n\r\n/**\r\n * @param {Node} node\r\n * @param {Object} options\r\n */\r\nvar likely = function (node, options) {\r\n    options = options || {};\r\n\r\n    var widget = node[config.name];\r\n\r\n    if (widget) {\r\n        widget.update(options);\r\n    }\r\n    else {\r\n        node[config.name] = new Likely(node, utils.merge(\r\n            {}, likely.defaults,\r\n            options, utils.bools(node)\r\n        ));\r\n    }\r\n\r\n    return widget;\r\n};\r\n\r\n/**\r\n * Initiate Likely buttons on load\r\n */\r\nlikely.initiate = likely.initate = function () {\r\n    var widgets = dom.findAll('.' + config.name);\r\n\r\n    utils.toArray(widgets).forEach(likely);\r\n};\r\n\r\n/**\r\n * Defaults options for likely\r\n */\r\nlikely.defaults = {\r\n    counters: true,\r\n    timeout:  1e3,\r\n    zeroes:   false,\r\n    title:    document.title,\r\n    wait:     0.5e3,\r\n    url:      window.location.href.replace(window.location.hash, '')\r\n};\r\n\r\nmodule.exports = likely;","var Button = require('./button');\r\n\r\nvar services = require('./services'),\r\n    config   = require('./config'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom'),\r\n    storage = require('./storage');\r\n\r\n/**\r\n * Main widget view\r\n *\r\n * @param {Node} container\r\n * @param {Object} options\r\n */\r\nfunction Likely(container, options) {\r\n    this.isSmartOrder = container.dataset.smart !== undefined ? true : false;\r\n    this.container = container;\r\n    this.options   = options;\r\n\r\n    this.countersLeft = 0;\r\n    this.buttons      = [];\r\n    this.number       = 0;\r\n\r\n    this.init();\r\n}\r\n\r\nLikely.prototype = {\r\n\r\n    /**\r\n     * Change buttons order, if previous clicks were saved\r\n     * @param {Array} children\r\n     */\r\n    reorder: function (children) {\r\n        var savedServices = storage.getItem(config.storageKey);\r\n\r\n        if (savedServices) {\r\n            savedServices.reverse();\r\n\r\n            savedServices.forEach(function (service) {\r\n\r\n                var button = dom.find('.' + service);\r\n\r\n                if (button) {\r\n                    button.parentNode.insertBefore(button, button.parentNode.firstChild);\r\n                }\r\n\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Initiate the social buttons widget\r\n     */\r\n    init: function () {\r\n\r\n        var buttons = utils.toArray(this.container.children);\r\n\r\n        if (dom.isMobile() && this.isSmartOrder) {\r\n            this.reorder(buttons);\r\n        }\r\n\r\n        buttons.forEach(this.addButton.bind(this));\r\n\r\n        if (this.options.counters) {\r\n            this.timer   = setTimeout(this.appear.bind(this), this.options.wait);\r\n            this.timeout = setTimeout(this.ready.bind(this),  this.options.timeout);\r\n        }\r\n        else {\r\n            this.appear();\r\n        }\r\n\r\n        utils.flexboxSupport(this.container, config.name);\r\n    },\r\n\r\n    /**\r\n     * Add a button\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    addButton: function (node) {\r\n        var button = new Button(node, this, this.options);\r\n\r\n        this.buttons.push(button);\r\n\r\n        if (button.options.counterUrl) {\r\n            this.countersLeft++;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update the timer with URL\r\n     *\r\n     * @param {Object} options\r\n     */\r\n    update: function (options) {\r\n        if (\r\n            options.forceUpdate ||\r\n            options.url !== this.options.url\r\n        ) {\r\n            this.countersLeft = this.buttons.length;\r\n            this.number = 0;\r\n\r\n            this.buttons.forEach(function (button) {\r\n                button.update(options);\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update counter\r\n     *\r\n     * @param {String} service\r\n     * @param {Number} counter\r\n     */\r\n    updateCounter: function (service, counter) {\r\n        if (counter) {\r\n            this.number += counter;\r\n        }\r\n\r\n        this.countersLeft--;\r\n\r\n        if (this.countersLeft === 0) {\r\n            this.appear();\r\n            this.ready();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Show the buttons with smooth animation\r\n     */\r\n    appear: function () {\r\n        this.container.classList.add(config.name + '--visible');\r\n    },\r\n\r\n    /**\r\n     * Get. Set. Ready.\r\n     */\r\n    ready: function () {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n\r\n            this.container.classList.add(config.name + '--ready');\r\n        }\r\n    }\r\n};\r\n\r\nmodule.exports = Likely;","var services = require('./services'),\r\n    config = require('./config'),\r\n    fetch = require('./fetch'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom'),\r\n    storage = require('./storage');\r\n\r\nvar htmlSpan = '<span class=\"{className}\">{content}</span>';\r\n\r\n/**\r\n * Separate social link widget\r\n *\r\n * @param {Node} widget\r\n * @param {Likely} likely\r\n * @param {Object} options\r\n */\r\nfunction LikelyButton (widget, likely, options) {\r\n    this.widget  = widget;\r\n    this.likely  = likely;\r\n    this.options = utils.merge(options);\r\n\r\n    this.init();\r\n}\r\n\r\nLikelyButton.prototype = {\r\n    /**\r\n     * Initiate the button\r\n     */\r\n    init: function () {\r\n        this.detectService();\r\n        this.detectParams();\r\n\r\n        if (this.service) {\r\n            this.initHtml();\r\n\r\n            setTimeout(this.initCounter.bind(this), 0);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update the counter\r\n     *\r\n     * @param {Object} options\r\n     */\r\n    update: function (options) {\r\n        var className = '.' + config.prefix + 'counter',\r\n            counters  = dom.findAll(className, this.widget);\r\n\r\n        utils.extend(this.options, utils.merge({forceUpdate: false}, options));\r\n        utils.toArray(counters).forEach(function (node) {\r\n            node.parentNode.removeChild(node);\r\n        });\r\n\r\n        this.initCounter();\r\n    },\r\n\r\n    /**\r\n     * Get the config.name of service and its options\r\n     */\r\n    detectService: function () {\r\n        var widget  = this.widget,\r\n            service = utils.getDataset(widget).service;\r\n\r\n        if (!service) {\r\n            var classes = widget.className.split(' ');\r\n\r\n            for (var i = 0; i < classes.length; i++) {\r\n                if (classes[i] in services) break;\r\n            }\r\n\r\n            service = classes[i];\r\n        }\r\n\r\n        if (service) {\r\n            this.service = service;\r\n\r\n            utils.extend(this.options, services[service]);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Merge params from data-* attributes into options hash map\r\n     */\r\n    detectParams: function () {\r\n        var options = this.options,\r\n            data    = utils.getDataset(this.widget);\r\n\r\n        if (data.counter) {\r\n            var counter = parseInt(data.counter, 10);\r\n\r\n            if (isNaN(counter)) {\r\n                options.counterUrl = data.counter;\r\n            }\r\n            else {\r\n                options.counterNumber = counter;\r\n            }\r\n        }\r\n\r\n        options.title = data.title || options.title;\r\n        options.url   = data.url   || options.url;\r\n    },\r\n\r\n    /**\r\n     * Inititate button's HTML\r\n     */\r\n    initHtml: function () {\r\n        var options = this.options,\r\n            widget  = this.widget,\r\n            text    = widget.innerHTML;\r\n\r\n        widget.addEventListener('click', this.click.bind(this));\r\n        widget.classList.remove(this.service);\r\n        widget.className += (' ' + this.className('widget'));\r\n\r\n        var button = utils.template(htmlSpan, {\r\n            className: this.className('button'),\r\n            content:   text\r\n        });\r\n\r\n        var icon = utils.template(htmlSpan, {\r\n            className: this.className('icon'),\r\n            content:   dom.wrapSVG(options.svgi)\r\n        });\r\n\r\n        widget.innerHTML = icon + button;\r\n    },\r\n\r\n    /**\r\n     * Fetch or get cached counter value and update the counter\r\n     */\r\n    initCounter: function () {\r\n        var options = this.options;\r\n\r\n        if (options.counters && options.counterNumber) {\r\n            this.updateCounter(options.counterNumber);\r\n        }\r\n        else if (options.counterUrl) {\r\n            fetch(\r\n                this.service,\r\n                options.url,\r\n                options\r\n            )(this.updateCounter.bind(this));\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @param {String} className\r\n     * @return {String}\r\n     */\r\n    className: function (className) {\r\n        var fullClass = config.prefix + className;\r\n\r\n        return fullClass + ' ' + fullClass + '--' + this.service;\r\n    },\r\n\r\n    /**\r\n     * Update counter\r\n     *\r\n     * @param {String} e\r\n     */\r\n    updateCounter: function (counter) {\r\n        counter = parseInt(counter, 10) || 0;\r\n\r\n        var counterElement = dom.find('.' + config.name + '__counter', this.widget);\r\n\r\n        if (counterElement) {\r\n            counterElement.parentNode.removeChild(counterElement);\r\n        }\r\n\r\n        var options = {\r\n            className: this.className('counter'),\r\n            content:   counter\r\n        };\r\n\r\n        if (!counter && !this.options.zeroes) {\r\n            options.className += ' ' + config.prefix + 'counter--empty';\r\n            options.content = '';\r\n        }\r\n\r\n        this.widget.appendChild(\r\n            dom.createNode(utils.template(htmlSpan, options))\r\n        );\r\n\r\n        this.likely.updateCounter(this.service, counter);\r\n    },\r\n\r\n    /**\r\n     * Click event listener\r\n     */\r\n    click: function () {\r\n        var options = this.options;\r\n\r\n        if ( this.service == 'more' ){\r\n\r\n            this.widget.classList.toggle('active');\r\n            this.widget.parentElement.classList.toggle(this.options.className);\r\n\r\n        } else if (this.service == 'email'){\r\n\r\n            var url = utils.makeUrl(options.popupUrl, {\r\n                url: options.url,\r\n                title: options.title\r\n            });\r\n\r\n            window.location = url;\r\n\r\n            this.rememberClicked(this.service);\r\n\r\n        } else {\r\n\r\n            if (options.click.call(this)) {\r\n\r\n                var twitterText = this.likely.container.dataset.twitter,\r\n                    twitterUrl = this.likely.container.dataset.twitterUrl;\r\n\r\n                var window_url = utils.makeUrl(options.popupUrl, {\r\n                    url:   (this.service === 'twitter' && twitterUrl !== '' && twitterUrl !== undefined) ? twitterUrl : options.url,\r\n                    title: (this.service === 'twitter' && twitterText !== '' && twitterText !== undefined) ? twitterText : options.title\r\n                });\r\n\r\n                dom.openPopup(\r\n                    this.addAdditionalParamsToUrl(window_url),\r\n                    config.prefix + this.service,\r\n                    options.popupWidth,\r\n                    options.popupHeight\r\n                );\r\n\r\n                this.rememberClicked(this.service);\r\n            }\r\n\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * Append service data to URL\r\n     *\r\n     * @param {String} url\r\n     */\r\n    addAdditionalParamsToUrl: function (url) {\r\n        var parameters = utils.query(utils.merge(\r\n                this.widget.dataset,\r\n                this.options.data\r\n            )),\r\n            delimeter = url.indexOf('?') === -1 ? '?' : '&';\r\n\r\n        return (parameters === '') ? url : (url + delimeter + parameters);\r\n    },\r\n\r\n    /**\r\n     * Remember last clicked button and save to storage\r\n     */\r\n    rememberClicked: function (service) {\r\n        var services = storage.getItem(config.storageKey) || [],\r\n            serviceIndex = services.indexOf(service);\r\n\r\n        if (serviceIndex !== -1) {\r\n            services.splice(serviceIndex, 1);\r\n        }\r\n\r\n        services.splice(0, 0, service);\r\n\r\n        storage.setItem(config.storageKey, services);\r\n    }\r\n};\r\n\r\nmodule.exports = LikelyButton;","var dom = require('./dom');\r\n\r\n/**\r\n * @param {String} url\r\n * @param {Function} factory\r\n */\r\nvar counter = function (url, factory) {\r\n    var self = this;\r\n    \r\n    dom.getJSON(url, function (count) {\r\n        try {\r\n            if (typeof self.convertNumber === 'function') {\r\n                count = self.convertNumber(count);\r\n            } \r\n            \r\n            factory(count);\r\n        } \r\n        catch (e) {}\r\n    });\r\n};\r\n\r\n/**\r\n * @param {Object} options\r\n */\r\nmodule.exports = function (options) {\r\n    options.counter = options.counter || counter;\r\n    options.click   = options.click   || function () { return true; };\r\n};","/**\r\n * Odnoklassniki service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar odnoklassniki = {\r\n    counterUrl: config.secure \r\n        ? undefined \r\n        : 'http://connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}',\r\n    counter: function (url, promise) {\r\n        this.promises.push(promise);\r\n        \r\n        dom.getScript(utils.makeUrl(url, {\r\n            index: this.promises.length - 1\r\n        }));\r\n    },\r\n    promises: [],\r\n    popupUrl: 'http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}',\r\n    popupWidth: 640,\r\n    popupHeight: 400\r\n};\r\n\r\nutils.set(window, 'ODKL.updateCount', function (index, counter) {\r\n    odnoklassniki.promises[index](counter);\r\n});\r\n\r\nmodule.exports = odnoklassniki;","/**\r\n * Vkontakte service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar vkontakte = {\r\n    counterUrl: 'https://vk.com/share.php?act=count&url={url}&index={index}',\r\n    counter: function (url, promise) {\r\n        this.promises.push(promise);\r\n        \r\n        dom.getScript(utils.makeUrl(url, {\r\n            index: this.promises.length - 1\r\n        }));\r\n    },\r\n    promises: [],\r\n    popupUrl: config.protocol + '//vk.com/share.php?url={url}&title={title}',\r\n    popupWidth: 550,\r\n    popupHeight: 330\r\n};\r\n\r\nutils.set(window, 'VK.Share.count', function (index, count) {\r\n    vkontakte.promises[index](count);\r\n});\r\n\r\nmodule.exports = vkontakte;\r\n","/**\r\n * Facebook service provider\r\n */\r\n\r\nmodule.exports = {\r\n    counterUrl: 'https://graph.facebook.com/?fields=share,og_object{likes.limit(0).summary(true),comments.limit(0).summary(true)}&id={url}&callback=?',\r\n    convertNumber: function (counter) {\r\n        return counter.share.share_count;\r\n    },\r\n    popupUrl: 'https://www.facebook.com/sharer/sharer.php?u={url}',\r\n    popupWidth: 600,\r\n    popupHeight: 500\r\n};","/**\r\n * Twitter service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar twitter = {\r\n    popupUrl: config.protocol + '//twitter.com/intent/tweet?url={url}&text={title}',\r\n    popupWidth: 600,\r\n    popupHeight: 450,\r\n    click: function () {\r\n        if (!/[\\.\\?:\\-–—]\\s*$/.test(this.options.title)) {\r\n            this.options.title += ':';\r\n        }\r\n\r\n        return true;\r\n    }\r\n};\r\n\r\nmodule.exports = twitter;\r\n","/**\r\n * Google+ service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar gplus = {\r\n    gid: 0,\r\n    promises: {},\r\n    popupUrl: 'https://plus.google.com/share?url={url}',\r\n    popupWidth: 700,\r\n    popupHeight: 500\r\n};\r\n\r\nmodule.exports = gplus;","/**\r\n * Pocket service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar pocket = {\r\n    popupUrl: config.protocol + '//getpocket.com/save?url={url}&format=json&callback=?',\r\n    popupWidth: 600,\r\n    popupHeight: 300\r\n};\r\n\r\nmodule.exports = pocket;","/**\r\n * Telegram service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'tg://msg?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","/**\r\n * WhatsApp service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'whatsapp://send?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","/**\r\n * Viber service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'viber://forward?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","/**\r\n * E-mail service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar email = {\r\n    popupUrl: 'mailto:?subject={title}&body={url}',\r\n    popupWidth: 0,\r\n    popupHeight: 0\r\n};\r\n\r\nmodule.exports = email;","var config = require('../config');\r\n\r\nmodule.exports = {\r\n\tparent: config.name,\r\n    className: config.name + '--expanded'\r\n};","var services = require('./services'),\r\n    Factory  = require('./factory'),\r\n    utils    = require('./utils'),\r\n    dom      = require('./dom');\r\n\r\nvar factories = {};\r\n\r\n/**\r\n * Fetch data\r\n *\r\n * @param {String} service\r\n * @param {String} url\r\n * @param {Object} options\r\n * @return {Promise}\r\n */\r\nmodule.exports = function (service, url, options) {\r\n    if (!factories[service]) {\r\n        factories[service] = {};\r\n    }\r\n\r\n    var counters = factories[service],\r\n        counter  = counters[url];\r\n\r\n    if (!options.forceUpdate && counter) {\r\n        return counter;\r\n    }\r\n\r\n    counter = Factory();\r\n\r\n    var href = utils.makeUrl(options.counterUrl, {\r\n        url: url\r\n    });\r\n\r\n    services[service].counter(href, counter, url);\r\n\r\n    counters[url] = counter;\r\n\r\n    return counters[url];\r\n};","/**\r\n * Factory function\r\n * \r\n * This function returns function with following API:\r\n * \r\n * - if passed argument is callback, then this callback would be callled\r\n *   if the value was changed\r\n * - if passed argument is anything but undefined or function, then this \r\n *   function behaves like setter\r\n * - if argument isn't provided, then return value stored in closure\r\n * \r\n * @param {Object} value\r\n * @return {Function}\r\n */\r\nmodule.exports = function (value) {\r\n    var listeners = [];\r\n    \r\n    return function (argument) {\r\n        var type = typeof argument;\r\n        \r\n        if (type == 'undefined') {\r\n            return value;\r\n        }\r\n        else if (type == 'function') {\r\n            listeners.push(argument);\r\n        }\r\n        else {\r\n            value = argument;\r\n            \r\n            listeners.forEach(function (listener) {\r\n                listener(argument);\r\n            });\r\n        }\r\n    };\r\n};","export const projectConfig = {\r\n  name: 'MegafonTarget', // уникальное имя спецпроекта. Оно же — название главного класса. Используется на странице, куда интегрируется спецпроект\r\n  analyticsCategory: 'Megafon Target',\r\n  sendPageView: false, // отключаем, если спецпроект не на отдельной странице\r\n  listenedEvents: ['click'] // слушаем события (click, input, change, etc.). Обычно нужен только click\r\n};\r\n","import { projectConfig } from './../../config';\r\n\r\nconst CONSOLE_STYLE = 'color: #E87E04';\r\n\r\n/**\r\n * Send analytics events via GTM\r\n * @param {String} label - event label\r\n * @param {String} action - event action (\"Click\" by default)\r\n */\r\nexport const sendEvent = (label, action = 'Click') => {\r\n    let value = `${projectConfig.analyticsCategory} — ${label} — ${action}`;\r\n\r\n    if (!IS_PRODUCTION) {\r\n        console.log(`Analytics: %c${value}`, CONSOLE_STYLE);\r\n    }\r\n\r\n    if (window.dataLayer !== undefined && projectConfig.analyticsCategory) {\r\n        window.dataLayer.push({\r\n            event: 'data_event',\r\n            data_description: value\r\n        });\r\n    }\r\n};\r\n\r\n/**\r\n * Send pageview event via GTM\r\n */\r\nexport const sendPageView = () => {\r\n    if (!IS_PRODUCTION) {\r\n        console.log('Analytics: %cPage — View', CONSOLE_STYLE);\r\n    }\r\n\r\n    if (window.dataLayer !== undefined) {\r\n        window.dataLayer.push({\r\n            event: 'Page — View',\r\n            post_details: {},\r\n            section: 'special',\r\n            tags: [],\r\n            title: document.title,\r\n            url: window.location.pathname\r\n        });\r\n    }\r\n};\r\n","import { projectConfig } from './../config';\r\nimport * as Analytics from './lib/analytics';\r\n\r\n/**\r\n * Base special constructor with common methods\r\n */\r\nclass BaseSpecial {\r\n\r\n    constructor() {\r\n        this.keyCodes = {\r\n            enter: 13\r\n        };\r\n        this.params = {\r\n            container: document.body\r\n        };\r\n\r\n        if (projectConfig.sendPageView) {\r\n            Analytics.sendPageView();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Save custom params\r\n     * @param {Object} params - params object with custom values\r\n     */\r\n    saveParams() {\r\n        Object.assign(this.params, projectConfig);\r\n        this.container = this.params.container;\r\n\r\n        this.addEventListeners();\r\n    }\r\n\r\n    /**\r\n     * Load css file\r\n     * @param {String} path\r\n     */\r\n    loadStyles(path) {\r\n        return new Promise((resolve, reject) => {\r\n            let link = document.createElement('link');\r\n\r\n            link.rel = 'stylesheet';\r\n            link.href = path;\r\n\r\n            link.onload = () => resolve();\r\n            link.onerror = () => reject();\r\n\r\n            document.body.appendChild(link);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Add event listeners to document\r\n     */\r\n    addEventListeners() {\r\n        this.params.listenedEvents.forEach(eventName => {\r\n            this.container.addEventListener(eventName, event => this.defaultEventHandler(event, eventName));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Default events handler\r\n     * @param {Object} event\r\n     * @param {String} eventName\r\n     */\r\n    defaultEventHandler(event, eventName) {\r\n        let target = event.target;\r\n        let action;\r\n\r\n        while (target.parentNode && target !== event.currentTarget) {\r\n            action = target.dataset[eventName];\r\n\r\n            /** Send all links clicks to analytics */\r\n            if (eventName === 'click' && target.tagName.toLowerCase() === 'a') {\r\n                Analytics.sendEvent(this.typeShowing ? `${this.typeShowing} — ${target.href}` : target.href);\r\n            }\r\n\r\n            if (action) break;\r\n            target = target.parentNode;\r\n        }\r\n\r\n        action = target.dataset[eventName];\r\n\r\n        if (action && this[action]) {\r\n            this[action](event.target, event);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default BaseSpecial;\r\n","/**\r\n * Все текстовые значения рекомендуется хранить здесь\r\n */\r\nexport default {\r\n  title: 'Мегафон Таргет',\r\n\r\n  quiz: {\r\n    questions: [\r\n      {\r\n        answers: {\r\n          bezos: {\r\n            who: 'Джефф Безос',\r\n            company: 'Amazon, Blue Origin',\r\n            right: true\r\n          },\r\n\r\n          musk: {\r\n            who: 'Илон Маск',\r\n            company: 'SpaceX, Tesla'\r\n          },\r\n\r\n          gates: {\r\n            who: 'Билл Гейтс',\r\n            company: 'Microsoft'\r\n          },\r\n\r\n          zuck: {\r\n            who: 'Марк Цукерберг',\r\n            company: 'Facebook'\r\n          }\r\n        },\r\n\r\n        levels: [\r\n          {\r\n            sender: 'OpenCharity',\r\n            text: 'Хотите помогать людям, но не знаете, с чего начать? Зарегистрируйтесь на круглый стол по благотворительности с крупными меценатами',\r\n            answersTexts: {\r\n              bezos: {\r\n                chat: 'Это по мне, где зарегистрироваться?',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: '3D for Space',\r\n            text: 'До Луны и обратно! Скидки на 3D-печать деталей космического корабля. Одобрено NASA.',\r\n            answersTexts: {\r\n              bezos: {\r\n                chat: 'Пригодится, мы в Blue Origin пока так не умеем.',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'РобоРобо',\r\n            text: 'Работники устали и хотят домой! Их заменят наши роботы: рассортируют товар, упакуют, отправят. При оформлении заказа до конца апреля пожизненная поддержка в подарок.',\r\n            answersTexts: {\r\n              bezos: {\r\n                chat: 'Пора усиливать складскую логистику перед летними распродажами.',\r\n                result: ''\r\n              },\r\n\r\n              musk: {\r\n                result: 'У Маска машины с автопилотом, сами себя расставят как надо. А вот Amazon роботы бы пригодились.'\r\n              },\r\n\r\n              gates: {\r\n                result: 'Интересно, конечно, но кажется ему нечего раскладывать и упаковывать. А вот Amazon роботы бы пригодились.'\r\n              },\r\n\r\n              zuck: {\r\n                result: 'Интересно, конечно, но кажется ему нечего раскладывать и упаковывать. А вот Amazon роботы бы пригодились.'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n\r\n        answersCommonTexts: {\r\n          bezos: {\r\n            result: 'Это сообщение для главы Amazon, который с недавних пор занялся благотворительностью.'\r\n          }\r\n        }\r\n      },\r\n\r\n      {\r\n        answers: {\r\n          vrach: {\r\n            who: 'Александр Жаров',\r\n            company: 'Роском&shy;надзор',\r\n            right: true\r\n          },\r\n\r\n          durov: {\r\n            who: 'Павел Дуров',\r\n            company: 'Telegram'\r\n          },\r\n\r\n          raid: {\r\n            who: 'Рейд Хоффман',\r\n            company: 'LinkedIn'\r\n          },\r\n\r\n          grishin: {\r\n            who: 'Дмитрий Гришин',\r\n            company: 'Mail.Ru Group'\r\n          }\r\n        },\r\n\r\n        levels: [\r\n          {\r\n            sender: 'CloudBox',\r\n            text: 'Только для премиум-клиентов: повысим объём хранилища и количество запросов без доплаты. Серверы по всей России!',\r\n            answersTexts: {\r\n              vrach: {\r\n                chat: 'Будет, где хранить персональные данные россиян.',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'CloudBox',\r\n            text: 'Предложение для премиум-клиентов: повысим объём хранилища и количество запросов без доплаты. Храним данные только в России.',\r\n            answersTexts: {\r\n              vrach: {\r\n                chat: 'Будет, где хранить персональные данные россиян.',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'Pack Filter',\r\n            text: 'Заблокируем только то, что нужно. Подробности у менеджеров.',\r\n            answersTexts: {\r\n              vrach: {\r\n                chat: 'За такую систему мы хоть 25 млн заплатим.',\r\n                result: ''\r\n              },\r\n\r\n              durov: {\r\n                result: 'Павлу Дурову вряд ли это нужно, а вот главе Роскомнадзора — вполне.'\r\n              },\r\n\r\n              raid: {\r\n                result: 'Основателю LinkedIn уже достаточно! Это сообщение для главы Роскомнадзора Александра Жарова.'\r\n              },\r\n\r\n              grishin: {\r\n                result: 'Это сообщение для главы Роскомнадзора Александра Жарова.'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n\r\n        answersCommonTexts: {\r\n          vrach: {\r\n            result: 'Это сообщение для главы Роскомнадзора.'\r\n          }\r\n        }\r\n      },\r\n\r\n      {\r\n        answers: {\r\n          volozh: {\r\n            who: 'Аркадий Волож',\r\n            company: '«Яндекс»',\r\n            right: true\r\n          },\r\n\r\n          tinkov: {\r\n            who: 'Олег Тиньков',\r\n            company: '«Тинькофф банк»'\r\n          },\r\n\r\n          buck: {\r\n            who: 'Питер Бак',\r\n            company: 'соосно&shy;ватель Subway'\r\n          },\r\n\r\n          spiegel: {\r\n            who: 'Эван Шпигель',\r\n            company: 'Snapchat'\r\n          }\r\n        },\r\n\r\n        levels: [\r\n          {\r\n            sender: 'Одежда Оптом',\r\n            text: 'Пошив одежды жёлтого цвета. Скидка 20% за оптовую покупку. Торопитесь!',\r\n            answersTexts: {\r\n              volozh: {\r\n                chat: '',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'Одежда Оптом',\r\n            text: 'Пошив одежды жёлтого цвета. Скидка 20% за оптовую покупку. Рюкзак в подарок. Подробности у продавцов.',\r\n            answersTexts: {\r\n              volozh: {\r\n                chat: '',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'Одежда Оптом',\r\n            text: 'Пошив одежды жёлтого цвета. Скидка 20% за оптовую покупку. Рюкзак в подарок. Разыгрываем самокаты! Подробности у продавцов.',\r\n            answersTexts: {\r\n              volozh: {\r\n                chat: '',\r\n                result: ''\r\n              },\r\n\r\n              tinkov: {\r\n                result: 'Насколько мы знаем, униформу в банке пока не ввели. А вот у у курьеров «Яндекс.Еды» она есть.'\r\n              },\r\n\r\n              buck: {\r\n                result: 'Логотип у сети, конечно, жёлтый, но форма у сотрудников зелёная! В отличие от курьеров «Яндекс.Еды».'\r\n              },\r\n\r\n              spiegel: {\r\n                result: 'Вы уверены, что сотрудники мессенджера к этому готовы? Нет, это сообщение для главы «Яндекса», которому принадлежит «Яндекс.Еда».'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n\r\n        answersCommonTexts: {\r\n          volozh: {\r\n            chat: 'Наша покупка будет самой оптовой.',\r\n            result: 'Только Аркадию Воложу жёлтая одежда нужна в огромных количествах'\r\n          }\r\n        }\r\n      },\r\n\r\n      {\r\n        answers: {\r\n          grishin: {\r\n            who: 'Дмитрий Гришин',\r\n            company: 'Mail.Ru Group',\r\n            right: true\r\n          },\r\n\r\n          elizabeth: {\r\n            who: 'Елизавета Осетинская',\r\n            company: 'The Bell'\r\n          },\r\n\r\n          brin: {\r\n            who: 'Сергей Брин',\r\n            company: 'Google'\r\n          },\r\n\r\n          musk: {\r\n            who: 'Илон Маск',\r\n            company: 'Tesla, SpaceX'\r\n          }\r\n        },\r\n\r\n        levels: [\r\n          {\r\n            sender: 'TennisBest',\r\n            text: 'Премиум-корты, лучшие ракетки, расположение в центре Москвы!',\r\n            answersTexts: {\r\n              grishin: {\r\n                chat: 'Так-так, а где именно в центре?',\r\n                result: 'Дмитрий Гришин — заядлый теннисист.'\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'Tesla',\r\n            text: 'Всем владельцам Model S — возможность купить Model Y без предзаказа! Закрытый старт продаж — в январе 2021 года.',\r\n            answersTexts: {\r\n              grishin: {\r\n                chat: 'Отличный таргетинг на существующих клиентов, так держать.',\r\n                result: 'Дмитрий Гришин — заядлый теннисист.'\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'RoboCon',\r\n            text: 'Три конференции по робототехнике — тройная скидка! При покупке билета на RoboCon и в Сингапуре, и в Гонконге, и в Лондоне скидка 30%. Промокод R2D2.',\r\n            answersTexts: {\r\n              grishin: {\r\n                chat: 'Едем!',\r\n                result: 'Grishin Robotics как раз ищет новые проекты.'\r\n              },\r\n\r\n              elizabeth: {\r\n                result: 'Это сообщение для главы Grishin Robotics Дмитрия Гришина — на конференции он мог бы поискать перспективные проекты.'\r\n              },\r\n\r\n              brin: {\r\n                result: 'Брин предложил бы провести четвёртую конференцию в кампусе Alphabet. Это сообщение для главы Grishin Robotics Дмитрия Гришина.'\r\n              },\r\n\r\n              musk: {\r\n                result: 'Маск уже пробовал положиться в производстве на роботов, ничего не вышло. Это сообщение для главы Grishin Robotics Дмитрия Гришина — на конференции он мог бы поискать перспективные проекты.'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      },\r\n\r\n      {\r\n        answers: {\r\n          nikolay: {\r\n            who: 'Николай Сторонский',\r\n            company: 'Revolut',\r\n            right: true\r\n          },\r\n\r\n          richard: {\r\n            who: 'Ричард Брэнсон',\r\n            company: 'Virgin'\r\n          },\r\n\r\n          gref: {\r\n            who: 'Герман Греф',\r\n            company: 'Сбербанк'\r\n          },\r\n\r\n          cook: {\r\n            who: 'Тим Кук',\r\n            company: 'Apple'\r\n          }\r\n        },\r\n\r\n        levels: [\r\n          {\r\n            sender: 'MetalStuff',\r\n            text: 'Металлические изделия из армированной стали, от 200 штук — скидка 5%. Звоните.',\r\n            answersTexts: {\r\n              nikolay: {\r\n                chat: '',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'MetalStuff',\r\n            text: 'Металлические изделия из армированной стали, от 200 штук — скидка 5%. Карты, кардхолдеры, металлические визитки, ярлыки. Звоните.',\r\n            answersTexts: {\r\n              nikolay: {\r\n                chat: '',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'MetalStuff',\r\n            text: 'Металлические изделия из армированной стали, от 200 штук — скидка 5%. Карты, кардхолдеры, металлические визитки, ярлыки. Отчеканим имена владельцев, доставим по всей Европе: Лондон, Осло, Копенгаген, Хельсинки, другие города.',\r\n            answersTexts: {\r\n              nikolay: {\r\n                chat: '',\r\n                result: ''\r\n              },\r\n\r\n              richard: {\r\n                result: 'Ни одному бизнесу Брэнсона это не пригодится, а Revolut Николая Сторонского выдаёт стальные карты премиальным клиентам.'\r\n              },\r\n\r\n              gref: {\r\n                result: '«Сбербанк» не выпускает такие карты. А вот у Revolut они есть — для премиальных клиентов.'\r\n              },\r\n\r\n              cook: {\r\n                result: 'Apple Card титановые. А Revolut Николая Сторонского выдаёт стальные — премиальным клиентам.'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n\r\n        answersCommonTexts: {\r\n          nikolay: {\r\n            chat: 'Отлично, как раз для премиальных клиентов.',\r\n            result: 'Премиальные клиенты Revolut получают стальные карты.'\r\n          }\r\n        }\r\n      },\r\n\r\n      {\r\n        answers: {\r\n          bakalchuk: {\r\n            who: 'Татьяна Бакальчук',\r\n            company: 'Wildberries',\r\n            right: true\r\n          },\r\n\r\n          fridman: {\r\n            who: 'Михаил Фридман',\r\n            company: 'X5 Retail'\r\n          },\r\n\r\n          romanova: {\r\n            who: 'Надежда Романова',\r\n            company: 'PickPoint'\r\n          },\r\n\r\n          max: {\r\n            who: 'Максим Гришаков',\r\n            company: 'Яндекс.&shy;Маркет'\r\n          }\r\n        },\r\n\r\n        levels: [\r\n          {\r\n            sender: 'Агентство Коммерческой Недвижимости',\r\n            text: 'Небольшие помещения в аренду. В торговых центрах, у метро. Покажите эту SMS и получите скидку на отделку.',\r\n            answersTexts: {\r\n              bakalchuk: {\r\n                chat: '',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'Агентство Коммерческой Недвижимости',\r\n            text: 'Небольшие помещения в аренду. В торговых центрах, у метро. Можем оборудовать примерочные внутри! Покажите эту SMS и получите скидку на отделку.',\r\n            answersTexts: {\r\n              bakalchuk: {\r\n                chat: '',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'Агентство Коммерческой Недвижимости',\r\n            text: 'Небольшие помещения в аренду. В торговых центрах, у метро. Можем оборудовать примерочные внутри! Скидка на отделку — по промокоду «МОДА».',\r\n            answersTexts: {\r\n              bakalchuk: {\r\n                chat: '',\r\n                result: ''\r\n              },\r\n\r\n              fridman: {\r\n                result: 'Небольшие помещения «Перекрёстку» и «Карусели» вряд ли пригодятся. А вот Wildberries бы подошли.'\r\n              },\r\n\r\n              romanova: {\r\n                result: 'Под постаматы отдельные помещения не нужны, тем более с примерочными. Это сообщение для владелицы Wildberries.'\r\n              },\r\n\r\n              max: {\r\n                result: 'У «Яндекс.Маркета» пока что нет собственных пунктов выдачи. Это сообщение для владелицы Wildberries.'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n\r\n        answersCommonTexts: {\r\n          bakalchuk: {\r\n            chat: 'Нам помещения пригодятся.',\r\n            result: 'В 2019 году Wildberries собралась расширить сеть пунктов выдачи в два раза.'\r\n          }\r\n        }\r\n      },\r\n\r\n      {\r\n        answers: {\r\n          goncharov: {\r\n            who: 'Михаил Гончаров',\r\n            company: 'основа&shy;тель «Теремка»',\r\n            right: true\r\n          },\r\n\r\n          novikov: {\r\n            who: 'Аркадий Новиков',\r\n            company: 'ресторатор'\r\n          },\r\n\r\n          tatulova: {\r\n            who: 'Анастасия Татулова',\r\n            company: 'основа&shy;тельница сети «Андерсон»'\r\n          },\r\n\r\n          tinkov: {\r\n            who: 'Олег Тиньков',\r\n            company: '«Тинькофф-банк»'\r\n          }\r\n        },\r\n\r\n        levels: [\r\n          {\r\n            sender: 'ПродуктОптТорг',\r\n            text: 'К клубнике, маскарпоне и фуа-гра — маршмеллоу в подарок! При покупке до десяти килограммов любого продукта.',\r\n            answersTexts: {\r\n              goncharov: {\r\n                chat: 'Как раз недавно в «Депо» открылись.',\r\n                result: 'Основатель «Теремка» недавно открыл премиум-блинную «Припёк».'\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'ПродуктОптТорг',\r\n            text: 'К клубнике, маскарпоне и фуа-гра — маршмеллоу в подарок! При покупке до десяти килограммов любого продукта. Доставка до «Депо».',\r\n            answersTexts: {\r\n              goncharov: {\r\n                chat: 'Как раз недавно в «Депо» открылись.',\r\n                result: 'Основатель «Теремка» недавно открыл премиум-блинную «Припёк».'\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'Русские узоры',\r\n            text: 'Не хватает чего-то русского? Скидки на кокошники — по промокоду СУДАРЫНЯ.',\r\n            answersTexts: {\r\n              goncharov: {\r\n                chat: 'Ну конечно!',\r\n                result: 'Кокошники — это точно для «Теремка». К тому же, основатель сети ресторанов недавно открыл премиум-блинную «Припёк».'\r\n              },\r\n\r\n              novikov: {\r\n                result: 'Русские блины, клубника и маскарпоне — всё это в «Теремке». Или премиум-блинной «Припёк» от того же основателя.'\r\n              },\r\n\r\n              tatulova: {\r\n                result: 'Русские блины, клубника и маскарпоне — всё это в «Теремке». Или премиум-блинной «Припёк» от того же основателя.'\r\n              },\r\n\r\n              tinkov: {\r\n                result: 'Русские блины, клубника и маскарпоне — всё это в «Теремке». Или премиум-блинной «Припёк» от того же основателя.'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      },\r\n\r\n      {\r\n        answers: {\r\n          milner: {\r\n            who: 'Юрий Мильнер',\r\n            company: 'DST Global',\r\n            right: true\r\n          },\r\n\r\n          maezawa: {\r\n            who: 'Юсаку Маэдзава',\r\n            company: 'Start Today'\r\n          },\r\n\r\n          zuck: {\r\n            who: 'Марк Цукерберг',\r\n            company: 'Facebook'\r\n          },\r\n\r\n          brin: {\r\n            who: 'Сергей Брин',\r\n            company: 'Google'\r\n          }\r\n        },\r\n\r\n        levels: [\r\n          {\r\n            sender: 'SpaceX',\r\n            text: 'На Марс как на другой континент! Запускаем межпланетные перелеты. Записаться в лист ожидания: https://spa.ce.x',\r\n            answersTexts: {\r\n              milner: {\r\n                chat: '',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'SpaceX',\r\n            text: 'На Марс как на другой континент! Запускаем межпланетные перелеты. Оборудуем вам лабораторию для фиксации иноземных сигналов. Записаться в лист ожидания: https://spa.ce.x',\r\n            answersTexts: {\r\n              milner: {\r\n                chat: '',\r\n                result: ''\r\n              }\r\n            }\r\n          },\r\n\r\n          {\r\n            sender: 'SpaceX',\r\n            text: 'На поиски внеземных цивилизаций! Запускаем межпланетные перелеты на корабле с новейшими локарторами и системами поиска инопланетной жизни. Записаться в лист ожидания: https://spa.ce.x',\r\n            answersTexts: {\r\n              milner: {\r\n                chat: '',\r\n                result: ''\r\n              },\r\n\r\n              maezawa: {\r\n                result: 'У этого космического туриста уже есть билет на первый полёт SpaceX. А вот Юрия Мильнера предложение может заинтересовать — он [link|https://vc.ru/future/47247|планирует] посвятить себя поиску инопланетной жизни.'\r\n              },\r\n\r\n              zuck: {\r\n                result: 'Основателя Facebook пока больше волнует земная жизнь. А вот Юрия Мильнера предложение может заинтересовать — он [link|https://vc.ru/future/47247|планирует] посвятить себя поиску инопланетной жизни.'\r\n              },\r\n\r\n              brin: {\r\n                result: 'Кажется, Брин пока не стремится в космос. А вот Юрия Мильнера предложение может заинтересовать — он [link|https://vc.ru/future/47247|планирует] посвятить себя поиску инопланетной жизни.'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n\r\n        answersCommonTexts: {\r\n          milner: {\r\n            chat: 'Поехали!',\r\n            result: 'В 2015 Юрий Мильнер [link|https://vc.ru/future/47247|запустил] программу Breakthrough Initiatives, которая состоит из двух проектов: Breakthrough Listen ищет разумную жизнь во вселенной, а Breakthrough Starshot разрабатывает межзвёздный космический корабль с солнечным парусом.'\r\n          }\r\n        }\r\n      }\r\n    ],\r\n\r\n    results: {\r\n      zuck: {\r\n        0: {\r\n          sender: 'Aloha!',\r\n          text: '[b|Марк Ц.], до 20.07 вам гарантирована персональная скидка 25% на гавайские рубашки и другую одежду ярких цветов!'\r\n        },\r\n\r\n        4: {\r\n          sender: 'YourCab',\r\n          text: '[b|Марк Ц.], скидка 15% на такси для постоянных клиентов маршрута Аэропорт Рональда Рейгана — Конгресс'\r\n        },\r\n\r\n        7: {\r\n          sender: 'SiliconClothes',\r\n          text: '[b|Марк Ц.], вам гарантирована пожизненная скидка 10% на одежду серых цветов'\r\n        }\r\n      },\r\n\r\n      tinkov: {\r\n        0: {\r\n          sender: 'Ракета-банк',\r\n          text: '[b|Олег Т.], закажите дебетовую карту «Ракета-банка» до 25.07.2019 и получите бесплатное обслуживание на два года'\r\n        },\r\n\r\n        4: {\r\n          sender: '«Волна»',\r\n          text: '[b|Олег Т.], только для вас — скидка 25% на проживание в трёхзвездочном отеле «Волна» в г. Куршавель'\r\n        },\r\n\r\n        7: {\r\n          sender: 'Planes4Brains',\r\n          text: '[b|Олег Т.], мы скупаем поддержанные самолёты! Отдайте свой Falcon нам и получите 50% скидку на новый с доплатой.'\r\n        }\r\n      },\r\n\r\n      cook: {\r\n        0: {\r\n          sender: 'iStore',\r\n          text: '[b|Тим К.], вам гарантирована скидка 15% на смартфоны и сервисное обслуживание'\r\n        },\r\n\r\n        4: {\r\n          sender: 'CONF4YOU',\r\n          text: '[b|Тим К.], ваша компания часто проводит конференции? Наймите нашего ведущего: скидка 15% по промокоду CONF4WIN'\r\n        },\r\n\r\n        7: {\r\n          sender: 'SecDiscuss',\r\n          text: '[b|Тим К.], вы обеспечили защиту данных пользователям, а мы обеспечим её вам. Закрытый дискуссионный клуб для технологических лидеров: +1 502 449 9564'\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  imagesCDN: 'https://leonardo-direct.osnova.iod/',\r\n\r\n  images: {\r\n    faces: {\r\n      bakalchuk: '47df28c0-0c5f-9ad5-f9a2-e2702fe47b0d',\r\n      bezos: 'f296efa9-f3b0-ffa8-9aba-b28b28050029',\r\n      brin: '5d67dce3-722f-c1b6-9fc6-11e61cee6942',\r\n      buck: '6a2f7357-c70e-9613-96e7-466062a27a8a',\r\n      cook: 'cf0df115-f83c-901b-0f10-351f73dfbf66',\r\n      cook_nichosi: '82ba2f22-0a1a-bbfb-e6d6-788bacdc7750',\r\n      durov: 'ee3213f6-e437-a375-0363-f6d3bf3aaa9a',\r\n      elizabeth: '15f9e5c3-73ba-b5d0-3665-a3a241419463',\r\n      fridman: 'a78e655b-9809-e57b-804d-bd8eb9ac5f4e',\r\n      gates: 'b0ed4248-b1de-4a9d-2ebb-e77bcc7ac5cc',\r\n      goncharov: '85fd8d58-96cc-786f-22ed-88f78db2342c',\r\n      gref: '233ff4a2-5bd7-beea-47ca-2e26fc9a6e38',\r\n      grishin: '1f1a5951-0f6f-8d2e-6e07-b5c2c5de014c',\r\n      maezawa: '4f15b5d2-5db0-ec9a-ff90-a34520c0f83d',\r\n      max: '5ed0d06a-9ff5-5f33-68c4-c3b3e2246740',\r\n      milner: '96a1638f-5f23-ee95-7488-05985ea42123',\r\n      musk: '7801ddd0-c26f-ff24-34da-eb6316f5c76f',\r\n      nikolay: '0f6b1630-42a8-ffb4-7d82-d38ee03180a1',\r\n      novikov: 'b3747806-dd38-4156-1b57-b4dda9e2a396',\r\n      raid: '6f4e8d7a-3b72-5d3a-5d27-6e141283444f',\r\n      richard: '943d2930-0d70-8f13-b5ae-3f426eeb4bc8',\r\n      romanova: '8b320d1c-8adc-5268-6d02-d8ae78aa2ed9',\r\n      spiegel: '45225174-e98a-e54f-f6cb-4fc7e4fef4dc',\r\n      tatulova: '13f346f1-e8dd-0c9c-3036-63bda62193ae',\r\n      tinkov: 'bfd2e01d-664e-4be3-d429-baf3d86a270b',\r\n      tinkov_nichosi: '7679d4f9-6d0c-0104-8cad-5cd51cd87b93',\r\n      volozh: '050699e5-6b79-7e69-4f43-ab5b1862c3e0',\r\n      vrach: 'd2ce5224-7a52-8a0a-8394-9879dc90c4cb',\r\n      zuck: '202213d9-8fa8-a845-54f9-0520f562fd4e',\r\n      zuck_nichosi: 'c4c22da6-946c-0f8a-72a1-08b066d511cb',\r\n    },\r\n\r\n    faces_2x: {\r\n      bakalchuk: '53d48aae-7128-b42c-bbea-1419e1eba706',\r\n      bezos: '8c120cef-edf6-ccfc-568b-aba89152a894',\r\n      brin: 'e9401a44-717c-fa02-8d4d-a560b94f0fdd',\r\n      buck: '2a67616e-8f26-b931-083c-391267dff9e9',\r\n      cook: '521baf47-b12b-7910-3f97-be5b7aba5d31',\r\n      cook_nichosi: '1435db6a-4dcf-9db9-9fe1-559511f00aa8',\r\n      durov: 'fcf72883-e953-3f72-5ef0-b67575fce4d0',\r\n      elizabeth: '74d1d268-0785-b962-fa73-225abacf3cad',\r\n      fridman: '6cdc121e-63ea-2b79-f9e3-1585d2d22ead',\r\n      gates: 'aae0cfd8-6b8a-3fd2-c4d9-524e82ae6a39',\r\n      goncharov: '151ac364-ad63-682e-8061-1108999d9b96',\r\n      gref: 'e050a700-033a-1195-9a63-64c2e1b72c07',\r\n      grishin: '55fa32c2-836f-05d5-b1bc-3bdc2629f583',\r\n      maezawa: 'f9ddee32-6534-f3cd-49b6-b0fb3fdfa43d',\r\n      max: '5dc18511-e496-39ab-7863-720134f87642',\r\n      milner: '4346981e-18b0-aa7d-8164-faca93a8910d',\r\n      musk: 'b61fb2e4-9478-7a21-de52-cd58f7526ea3',\r\n      nikolay: 'f20311cb-b306-627a-f936-e0b08904f00b',\r\n      novikov: '3f3dfdf3-51d8-d17c-de1b-345e5e113e4a',\r\n      raid: 'c3340231-393d-8acf-1178-58ed8f4d190f',\r\n      richard: '0845e02b-e3e5-2dc9-fe20-e1aa0a1cf3d1',\r\n      romanova: '5d3cd5af-32c6-a43e-dc8e-716fb841b14c',\r\n      spiegel: 'f188501a-0373-c33f-058b-a776048757bf',\r\n      tatulova: '83b87459-3502-c117-2299-b65a8fe11d99',\r\n      tinkov: 'fb253204-3bc2-8317-7b3f-f7aa735b3072',\r\n      tinkov_nichosi: '8f19126d-b403-a3b0-0c2f-af5d09f4a68b',\r\n      volozh: '871a72d0-1ad2-5856-6ca1-83235385af2f',\r\n      vrach: 'de4ef8f4-1548-ce64-a1a0-f1dbc7cdec5b',\r\n      zuck: 'fd87593c-a35e-4f0f-99c5-31a419e4ab4a',\r\n      zuck_nichosi: 'f918ed72-df66-b9b9-6d47-b5dad4e598ea',\r\n    },\r\n\r\n    target_logo: {\r\n      x1: 'a2784402-276a-547d-f4ef-b1df02824509',\r\n      x2: 'c4f70330-e194-86d2-39fc-304806fb7f4a'\r\n    }\r\n  },\r\n\r\n  mega_text: [\r\n    'Чтобы рассылки были эффективнее, можно нанять на работу МегаФон. У компании есть более 30 решений для оптимизации и развития бизнеса, в том числе МегаФон Таргет.',\r\n    'С его помощью можно таргетировать SMS-сообщения по 11 параметрам: например, возрасту и полу клиента, посещённым сайтам, нахождению в определенной зоне на карте. Ещё можно узнать уровень дохода и интересы абонента, а для подключения достаточно номера телефона.'\r\n  ],\r\n\r\n  final_links: {\r\n    logo: 'https://target.megafon.ru/?utm_source=vc&utm_medium=article&utm_campaign=vc-mftarget-test&utm_content=logo',\r\n    button: 'https://target.megafon.ru/?utm_source=vc&utm_medium=article&utm_campaign=vc-mftarget-test&utm_content=link'\r\n  }\r\n};\r\n","/**\r\n * Find most frequent value in array\r\n * @param {Array} array\r\n */\r\nexport const getMostFrequentValue = (array) => {\r\n    let result = [...array];\r\n\r\n    return result.sort((a, b) =>\r\n        result.filter(v => v === a).length - result.filter(v => v === b).length\r\n    ).pop();\r\n};\r\n\r\n/**\r\n * Shuffle an array (original array will be modified)\r\n * @param {Array} a\r\n */\r\nexport const shuffleArray = a => {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [a[i], a[j]] = [a[j], a[i]]\r\n    }\r\n\r\n    return a\r\n};\r\n\r\n/**\r\n * Convert nodelist to array\r\n * @param {NodeList} nodeList\r\n */\r\nexport const toArray = (nodeList) => {\r\n    return Array.from(nodeList);\r\n};\r\n","import { toArray } from './array'\r\n\r\n/**\r\n * Make html element\r\n * @param {String} tagName\r\n * @param {Array|String} classNames - array of classnames or string for single classname\r\n * @param {Object} attributes - object with html attributes\r\n */\r\nexport const createElement = (tagName, classNames = [], attributes = []) => {\r\n    tagName = tagName.toLowerCase();\r\n\r\n    let element = document.createElement(tagName);\r\n\r\n    if (classNames) {\r\n        if (typeof classNames === 'object') {\r\n            classNames.forEach(cname => {\r\n                element.classList.add(cname);\r\n            });\r\n        } else if (typeof classNames === 'string') {\r\n            element.classList.add(classNames);\r\n        }\r\n    }\r\n\r\n    for (let attr in attributes) {\r\n        switch (attr) {\r\n          case 'data':\r\n            let dataAttributes = attributes[attr]\r\n\r\n            for (let attr in dataAttributes) {\r\n                element.dataset[attr] = dataAttributes[attr]\r\n            }\r\n\r\n            break\r\n\r\n          case 'style':\r\n            let styleAttributes = attributes[attr]\r\n\r\n            for (let attr in styleAttributes) {\r\n                element.style[attr] = styleAttributes[attr]\r\n            }\r\n\r\n            break\r\n\r\n          default:\r\n            element[attr] = attributes[attr]\r\n        }\r\n    }\r\n\r\n    return element;\r\n};\r\n\r\n/**\r\n * Cache elements with [data-view] attribute and put them in given object\r\n * @param {Object} obj - object\r\n */\r\nexport const cacheElements = (obj, attr = 'view') => {\r\n    let newObj = {}\r\n\r\n    let elements = document.querySelectorAll(`[data-${attr}]`);\r\n\r\n    Array.prototype.forEach.call(elements, el => {\r\n        let name = el.dataset[attr];\r\n        newObj[name] = el;\r\n    });\r\n\r\n    Object.assign(obj, newObj);\r\n};\r\n\r\n/**\r\n * Get all siblings of specified element, excluding this element\r\n * @param {Element} element\r\n */\r\nexport const getSiblings = (element) => {\r\n    let siblings = []\r\n\r\n    let sibling = element.parentNode.firstChild;\r\n\r\n    for (; sibling; sibling = sibling.nextSibling) {\r\n        if (sibling.nodeType !== 1 || sibling === element) continue;\r\n        siblings.push(sibling);\r\n    }\r\n\r\n    return siblings;\r\n};\r\n\r\n/**\r\n * Remove all children from element\r\n * @param {Element} parent\r\n */\r\nexport const clearNode = (node, exceptions = []) => {\r\n    if (node.hasChildNodes()) {\r\n      toArray(node.childNodes).forEach(node_ => {\r\n        let trigger = false\r\n\r\n        exceptions.forEach(exception => {\r\n          if (node_.classList.contains(exception)) {\r\n            trigger = true\r\n          }\r\n        })\r\n\r\n        if (!trigger) { node.removeChild(node_) }\r\n      })\r\n    }\r\n};\r\n\r\n/**\r\n * Remove specified element from its parent\r\n * @param {Element} element\r\n */\r\nexport const removeElement = (element) => {\r\n    if (element) {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n};\r\n\r\n/**\r\n * Transform html string to node\r\n * @param {String} html\r\n */\r\nexport const htmlStringToNode = (html) => {\r\n    let el = document.createElement('div');\r\n\r\n    el.innerHTML = html;\r\n\r\n    return el.firstChild;\r\n};\r\n\r\n/**\r\n * Prepend source element before first child of target element\r\n * @param {Element} parent\r\n * @param {Element} el\r\n */\r\nexport const prepend = (parent, el) => {\r\n    parent.insertBefore(el, parent.firstChild);\r\n};\r\n\r\n/** Quick check if element is in DOM */\r\nexport const isElementInDom = (el) => {\r\n    return el.parentNode;\r\n};\r\n","import Likely from 'cmtt-likely';\r\n\r\nimport { createElement } from './dom';\r\nimport * as Analytics from './analytics';\r\n\r\nconst CSS = {\r\n    likely: 'likely',\r\n    likelyCustom: 'likely--custom'\r\n};\r\n\r\nexport const init = () => {\r\n    Likely.initate();\r\n};\r\n\r\n/**\r\n * Make likely buttons and append to specified element\r\n * @param {Element} parentContainer - likely container will be placed here\r\n * @param {Object} set - object with optional params (title, url, twitter)\r\n */\r\n\r\nexport const make = (parentContainer, set = {}, typeShowing) => {\r\n  const likelyContainer = createElement('div', [CSS.likely, CSS.likelyCustom]);\r\n  const socials = ['facebook', 'vkontakte', 'twitter'];\r\n\r\n  socials.forEach((social) => {\r\n    const button = createElement('div', social);\r\n\r\n    //if (social === 'facebook') button.innerHTML = 'Поделиться';\r\n\r\n    button.addEventListener('click', () => {\r\n      Analytics.sendEvent(typeShowing ? `${typeShowing} — Share ${social}` : `Share ${social}`);\r\n    });\r\n\r\n    likelyContainer.appendChild(button);\r\n  });\r\n\r\n  parentContainer.appendChild(likelyContainer);\r\n\r\n  if (set.url) likelyContainer.dataset.url = set.url;\r\n  if (set.twitter) likelyContainer.dataset.twitter = set.twitter;\r\n  if (set.title) likelyContainer.dataset.title = set.title;\r\n\r\n  init();\r\n};\r\n","// https://github.com/tehcojam/cmtt-test/blob/master/source/js/modules/u.js\r\n// https://github.com/tehcojam/kamina-js\r\n\r\nimport { createElement } from './dom'\r\n\r\nexport const U = {\r\n  qs: (qS, options = []) => {\r\n    return options.includes('a')\r\n      ? document.querySelectorAll(qS)\r\n      : document.querySelector(qS)\r\n  },\r\n\r\n  qsf: (qS, from, options = []) => {\r\n    if (!from.nodeName) {\r\n      from = document.querySelector(from)\r\n    }\r\n\r\n    return options.includes('a')\r\n      ? from.querySelectorAll(qS)\r\n      : from.querySelector(qS)\r\n  },\r\n\r\n  prepareText(text) {\r\n    let regExps = {\r\n      links:  new RegExp(/\\[link\\|(?:[^\\]]+)\\|([^\\]]+)\\]/),\r\n      bold:   new RegExp(/\\[b\\|(?:[^\\]]+)\\]/),\r\n      quote:  new RegExp(/\\[q\\|(?:[^\\]]+)\\]/),\r\n    }\r\n\r\n    let regExps_keys = Object.keys(regExps)\r\n\r\n    let regExps_g = {}\r\n\r\n    regExps_keys.forEach(key => {\r\n      regExps_g[key] = new RegExp(regExps[key], 'g')\r\n    })\r\n\r\n    let matches = {}\r\n\r\n    regExps_keys.forEach(key => {\r\n      matches[key] = text.match(regExps_g[key])\r\n    })\r\n\r\n    if (matches.links) {\r\n      matches.links.forEach(link => {\r\n        let _link = link.split('|')\r\n\r\n        text = text.replace(\r\n          regExps.links,\r\n          createElement('a', '', { innerText: _link[2].replace(/]/g, ''), href: _link[1], target: '_blank' }).outerHTML\r\n        )\r\n      })\r\n    }\r\n\r\n    if (matches.bold) {\r\n      matches.bold.forEach(bold => {\r\n        let _bold = bold.split('|')\r\n\r\n        text = text.replace(\r\n          regExps.bold,\r\n          createElement('b', '', { innerText: _bold[1].replace(/]/g, '') }).outerHTML\r\n        )\r\n      })\r\n    }\r\n\r\n    if (matches.quote) {\r\n      matches.quote.forEach(quote => {\r\n        let _quote = quote.split('|')\r\n\r\n        text = text.replace(\r\n          regExps.quote,\r\n          createElement('q', '', { innerText: _quote[1].replace(/]/g, '') }).outerHTML\r\n        )\r\n      })\r\n    }\r\n\r\n    return text\r\n  },\r\n\r\n  random: ({ min = 0, max }) => Math.floor(Math.random() * (max - min + 1)) + min,\r\n\r\n  createText: content => document.createTextNode(content)\r\n}\r\n","/*!\n * Scroll-js v2.2.1\n * https://github.com/mkay581/scroll-js\n *\n * Copyright (c) 2019 Mark Kennedy\n * Licensed under the MIT license\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nfunction scrollTo(el, options = {}) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!(el instanceof Element) && !(el instanceof Window)) {\r\n            throw new Error(`element passed to scrollTo() must be either the window or a DOM element, you passed ${el}!`);\r\n        }\r\n        options = sanitizeScrollOptions(options);\r\n        const scroll = (from, to, prop, startTime, duration = 300, easeFunc, callback) => {\r\n            window.requestAnimationFrame(() => {\r\n                const currentTime = Date.now();\r\n                const time = Math.min(1, (currentTime - startTime) / duration);\r\n                if (from === to) {\r\n                    return callback ? callback() : null;\r\n                }\r\n                setScrollPosition(el, easeFunc(time) * (to - from) + from);\r\n                /* prevent scrolling, if already there, or at end */\r\n                if (time < 1) {\r\n                    scroll(from, to, prop, startTime, duration, easeFunc, callback);\r\n                }\r\n                else if (callback) {\r\n                    callback();\r\n                }\r\n            });\r\n        };\r\n        const currentScrollPosition = getScrollPosition(el);\r\n        const scrollProperty = getScrollPropertyByElement(el);\r\n        return new Promise(resolve => {\r\n            scroll(currentScrollPosition, typeof options.top === 'number'\r\n                ? options.top\r\n                : currentScrollPosition, scrollProperty, Date.now(), options.duration, getEasing(options.easing), resolve);\r\n        });\r\n    });\r\n}\r\nfunction scrollIntoView(element, scroller, options) {\r\n    validateElement(element);\r\n    if (scroller && !(scroller instanceof Element)) {\r\n        options = scroller;\r\n        scroller = undefined;\r\n    }\r\n    const { duration, easing } = sanitizeScrollOptions(options);\r\n    scroller = scroller || utils.getDocument().body;\r\n    let currentContainerScrollYPos = 0;\r\n    let elementScrollYPos = element ? element.offsetTop : 0;\r\n    const document = utils.getDocument();\r\n    // if the container is the document body or document itself, we'll\r\n    // need a different set of coordinates for accuracy\r\n    if (scroller === document.body || scroller === document.documentElement) {\r\n        // using pageYOffset for cross-browser compatibility\r\n        currentContainerScrollYPos = window.pageYOffset;\r\n        // must add containers scroll y position to ensure an absolute value that does not change\r\n        elementScrollYPos =\r\n            element.getBoundingClientRect().top + currentContainerScrollYPos;\r\n    }\r\n    return scrollTo(scroller, {\r\n        top: elementScrollYPos,\r\n        left: 0,\r\n        duration,\r\n        easing\r\n    });\r\n}\r\nfunction validateElement(element) {\r\n    if (element === undefined) {\r\n        const errorMsg = 'The element passed to scrollIntoView() was undefined.';\r\n        throw new Error(errorMsg);\r\n    }\r\n    if (!(element instanceof HTMLElement)) {\r\n        throw new Error(`The element passed to scrollIntoView() must be a valid element. You passed ${element}.`);\r\n    }\r\n}\r\nfunction getScrollPropertyByElement(el) {\r\n    const props = {\r\n        window: {\r\n            y: 'scrollY',\r\n            x: 'scrollX'\r\n        },\r\n        element: {\r\n            y: 'scrollTop',\r\n            x: 'scrollLeft'\r\n        }\r\n    };\r\n    const axis = 'y';\r\n    if (el instanceof Window) {\r\n        return props.window[axis];\r\n    }\r\n    else {\r\n        return props.element[axis];\r\n    }\r\n}\r\nfunction sanitizeScrollOptions(options = {}) {\r\n    if (options.behavior === 'smooth') {\r\n        options.easing = 'ease-in-out';\r\n        options.duration = 300;\r\n    }\r\n    if (options.behavior === 'auto') {\r\n        options.duration = 0;\r\n        options.easing = 'linear';\r\n    }\r\n    return options;\r\n}\r\nfunction getScrollPosition(el) {\r\n    const document = utils.getDocument();\r\n    if (el === document.body ||\r\n        el === document.documentElement ||\r\n        el instanceof Window) {\r\n        return document.body.scrollTop || document.documentElement.scrollTop;\r\n    }\r\n    else {\r\n        return el.scrollTop;\r\n    }\r\n}\r\nfunction setScrollPosition(el, value) {\r\n    const document = utils.getDocument();\r\n    if (el === document.body ||\r\n        el === document.documentElement ||\r\n        el instanceof Window) {\r\n        document.body.scrollTop = value;\r\n        document.documentElement.scrollTop = value;\r\n    }\r\n    else {\r\n        el.scrollTop = value;\r\n    }\r\n}\r\nconst utils = {\r\n    // we're really just exporting this so that tests can mock the document.documentElement\r\n    getDocument() {\r\n        return document;\r\n    }\r\n};\r\nconst easingMap = {\r\n    linear(t) {\r\n        return t;\r\n    },\r\n    'ease-in'(t) {\r\n        return t * t;\r\n    },\r\n    'ease-out'(t) {\r\n        return t * (2 - t);\r\n    },\r\n    'ease-in-out'(t) {\r\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n    }\r\n};\r\nconst getEasing = (easing) => {\r\n    const defaultEasing = 'linear';\r\n    const easeFunc = easingMap[easing || defaultEasing];\r\n    if (!easeFunc) {\r\n        const options = Object.keys(easingMap).join(',');\r\n        throw new Error(`Scroll error: scroller does not support an easing option of \"${easing}\". Supported options are ${options}`);\r\n    }\r\n    return easeFunc;\r\n};\n\nexport { scrollTo, scrollIntoView, utils, easingMap };\n","import '../css/special.styl'\r\n\r\nimport BaseSpecial from './base'\r\nimport Data from './data'\r\nimport * as Share from './lib/share'\r\nimport * as Analytics from './lib/analytics'\r\nimport { shuffleArray, toArray } from './lib/array'\r\nimport { createElement, clearNode } from './lib/dom'\r\nimport { U } from './lib/u'\r\n\r\nimport { scrollIntoView } from 'scroll-js'\r\n\r\nconst CSS = {\r\n  main: 'mgfn-trgt',\r\n}\r\n\r\nconst NODES = {}\r\n\r\nconst TIME = 2000\r\n\r\nconst CDN_URL = Data.imagesCDN\r\n\r\nclass Special extends BaseSpecial {\r\n  constructor(params = {}) {\r\n    super()\r\n\r\n    Object.assign(this.params, params)\r\n    this.saveParams()\r\n\r\n    if (Data && params.data) {\r\n      Object.assign(Data, params.data)\r\n    }\r\n\r\n    if (this.params.css) {\r\n      this.loadStyles(this.params.css).then(() => this.init())\r\n    } else {\r\n      this.init()\r\n    }\r\n  }\r\n\r\n  isFeed() {\r\n    return this.params.isFeed\r\n  }\r\n\r\n  setInitialParams() {\r\n    this.qIndex = 0\r\n    this.qLevel = 0\r\n    this.score = 0\r\n\r\n    this.questions = Data.quiz.questions\r\n\r\n    this.results = Data.quiz.results\r\n\r\n    this.quizLength = this.questions.length\r\n\r\n    this.btnsClickAbility = true\r\n\r\n    this.typeShowing = this.isFeed() ? 'in Feed' : 'in Page'\r\n\r\n    if (this.isFeed()) {\r\n      this.container.dataset.isFeed = ''\r\n    }\r\n\r\n    if (!this.container.classList.contains(CSS.main)) {\r\n      this.container.classList.add(CSS.main)\r\n    }\r\n\r\n    this.container.dataset.theme = 'green'\r\n  }\r\n\r\n  getCurrentQuestion() {\r\n    return this.questions[this.qIndex]\r\n  }\r\n\r\n  getCurrentLevel() {\r\n    return this.questions[this.qIndex].levels[this.qLevel]\r\n  }\r\n\r\n  increaseScore() { this.score++ }\r\n\r\n  prepareQuestions() {\r\n     let act = 'answersCommonTexts'\r\n\r\n    this.questions.forEach(question => {\r\n      let actKeys = []\r\n\r\n      if (act in question) {\r\n        actKeys = Object.keys(question[act])\r\n      }\r\n\r\n      let qa = question.answers\r\n\r\n      let qaKeys = Object.keys(qa)\r\n\r\n      let qaTmpArray = []\r\n\r\n      qaKeys.forEach(key => {\r\n        let newAnswerObj = qa[key]\r\n\r\n        newAnswerObj.id = key\r\n\r\n        qaTmpArray.push(newAnswerObj)\r\n      })\r\n\r\n      qaTmpArray = shuffleArray(qaTmpArray)\r\n\r\n      question.answers = qaTmpArray\r\n\r\n      question.levels.forEach(level => {\r\n        //level.text = U.prepareText(level.text)\r\n\r\n        let answersTexts = level.answersTexts\r\n\r\n        let answersTextsKeys = Object.keys(answersTexts)\r\n\r\n        answersTextsKeys.forEach(atk => {\r\n          let arrayLOL = ['result', 'chat']\r\n\r\n          let qaa = {}\r\n\r\n          if (actKeys.includes(atk)) {\r\n            qaa = question[act][atk]\r\n          }\r\n\r\n          arrayLOL.forEach(lol => {\r\n            if (lol in qaa && answersTexts[atk][lol] === '') {\r\n              answersTexts[atk][lol] = qaa[lol]\r\n            }\r\n\r\n            if (lol in answersTexts[atk]) {\r\n              answersTexts[atk][lol] = U.prepareText(answersTexts[atk][lol])\r\n            }\r\n          })\r\n        })\r\n      })\r\n\r\n      if (act in question) { delete question[act] }\r\n    })\r\n  }\r\n\r\n  createTemplates() {\r\n    NODES.T = {}\r\n    NODES.T._temp = {}\r\n\r\n    /* Текстовая СМС */\r\n\r\n    NODES.T.textSMS = createElement('div', [`${CSS.main}__sms`, `${CSS.main}__sms-text`])\r\n\r\n    NODES.T._temp.smsContent = createElement('div', `${CSS.main}__sms-text--content`)\r\n\r\n    NODES.T._temp.smsContent.appendChild(createElement('div', `${CSS.main}__sms--sender`))\r\n    NODES.T._temp.smsContent.appendChild(createElement('div', `${CSS.main}__sms--text`))\r\n\r\n    NODES.T.textSMS.appendChild(NODES.T._temp.smsContent)\r\n\r\n    /* СМС-лицо */\r\n\r\n    NODES.T.faceSMS = createElement('picture', [`${CSS.main}__sms`, `${CSS.main}__sms-face`])\r\n\r\n    NODES.T.faceSMS.appendChild(createElement('img', `${CSS.main}__sms--face`))\r\n\r\n    /* Кнопка ответа на вопрос */\r\n\r\n    NODES.T.answerItemBtn = createElement('button', `${CSS.main}__answers-item-btn`)\r\n\r\n    NODES.T.answerItemBtn.appendChild(createElement('picture', `${CSS.main}__answers-item-btn--face`, { innerHTML: '<img>' }))\r\n    NODES.T.answerItemBtn.appendChild(createElement('p', `${CSS.main}__answers-item-btn--name`))\r\n    NODES.T.answerItemBtn.appendChild(createElement('p', `${CSS.main}__answers-item-btn--company`))\r\n\r\n    delete NODES.T._temp\r\n  }\r\n\r\n  createElements() {\r\n    NODES.S = {}\r\n    NODES.E = {}\r\n\r\n    /* Экраны */\r\n\r\n    NODES.S.ALL = createElement('div', `${CSS.main}__screens`)\r\n\r\n    NODES.S.quiz = createElement('div', [`${CSS.main}__screen`, `${CSS.main}__screen--quiz`], { data: { show: '' } })\r\n    NODES.S.ALL.appendChild(NODES.S.quiz)\r\n\r\n    NODES.S.final = createElement('div', [`${CSS.main}__screen`, `${CSS.main}__screen--final`])\r\n    NODES.S.ALL.appendChild(NODES.S.final)\r\n\r\n    this.container.appendChild(NODES.S.ALL)\r\n\r\n    /* Элементы */\r\n\r\n    // NODES.E.phone = createElement('div', `${CSS.main}__phone`)\r\n    // NODES.S.quiz.appendChild(NODES.E.phone)\r\n\r\n    // NODES.E.phoneNotch = createElement('div', `${CSS.main}__phone--notch`)\r\n    // NODES.E.phone.appendChild(NODES.E.phoneNotch)\r\n\r\n    // NODES.E.phoneContent = createElement('div', `${CSS.main}__phone--content`)\r\n    // NODES.E.phone.appendChild(NODES.E.phoneContent)\r\n\r\n    NODES.E.phone = createElement('div', [`${CSS.main}__phone`, `${CSS.main}__device`, `${CSS.main}__device-iphone-x`])\r\n\r\n    NODES.E.phoneFrame = createElement('div', `${CSS.main}__device-frame`)\r\n\r\n    NODES.E.phoneContent = createElement('div', [`${CSS.main}__phone--content`, `${CSS.main}__device-content`])\r\n    NODES.E.phoneFrame.appendChild(NODES.E.phoneContent)\r\n\r\n    NODES.E.phone.appendChild(NODES.E.phoneFrame)\r\n\r\n    NODES.E.phone.appendChild(createElement('div', `${CSS.main}__device-header`))\r\n    NODES.E.phone.appendChild(createElement('div', `${CSS.main}__device-sensors`))\r\n    NODES.E.phone.appendChild(createElement('div', `${CSS.main}__device-btns`))\r\n    NODES.E.phone.appendChild(createElement('div', `${CSS.main}__device-power`))\r\n\r\n    NODES.S.quiz.appendChild(NODES.E.phone)\r\n\r\n    NODES.E.header = createElement('div', `${CSS.main}__chat-header`)\r\n    NODES.E.phoneContent.appendChild(NODES.E.header)\r\n\r\n    NODES.E.headerCounter = createElement('div', `${CSS.main}__chat-header--counter`, { innerText: '0/0' })\r\n    NODES.E.header.appendChild(NODES.E.headerCounter)\r\n\r\n    NODES.E.headerOperator = createElement('div', `${CSS.main}__chat-header--operator`, { innerText: 'MegaFon' })\r\n    NODES.E.header.appendChild(NODES.E.headerOperator)\r\n\r\n    NODES.E.headerSender = createElement('div', `${CSS.main}__chat-header--sender`, { innerText: 'Неизвестный номер' })\r\n    NODES.E.header.appendChild(NODES.E.headerSender)\r\n\r\n    // NODES.E.headerTyping = createElement('div', `${CSS.main}__chat-header--typing`, { innerText: 'отправка', style: { display: 'none' } })\r\n    // NODES.E.header.appendChild(NODES.E.headerTyping)\r\n\r\n    NODES.E.headerAvatar = createElement('div', `${CSS.main}__chat-header--avatar`)\r\n    NODES.E.header.appendChild(NODES.E.headerAvatar)\r\n\r\n    NODES.E.chat = createElement('div', `${CSS.main}__chat`)\r\n\r\n    NODES.E.phoneContent.appendChild(NODES.E.chat)\r\n\r\n    NODES.E.answers = createElement('div', `${CSS.main}__answers`, { data: { show: 'answers' } })\r\n\r\n    NODES.E.answersHeader = createElement('div', `${CSS.main}__answers--header`)\r\n\r\n    NODES.E.answersPhrase = createElement('div', `${CSS.main}__answers--phrase`, { innerText: 'Кому адресовано сообщение?' })\r\n\r\n    NODES.E.answersHeader.appendChild(NODES.E.answersPhrase)\r\n\r\n    NODES.E.themeSwitcher = createElement('label', `${CSS.main}__answers--theme-switcher`, { htmlFor: 'theme_switcher' })\r\n\r\n    NODES.E.themeSwitcherText = U.createText('Сменить тему')\r\n    NODES.E.themeSwitcher.appendChild(NODES.E.themeSwitcherText)\r\n\r\n    NODES.E.themeSwitcherInput = createElement('input', '', { type: 'checkbox', id: 'theme_switcher' })\r\n    NODES.E.themeSwitcherInput.addEventListener('click', e => {\r\n      let theme = e.target.checked ? 'pink' : 'green'\r\n\r\n      this.container.dataset.theme = theme\r\n\r\n      Analytics.sendEvent(`${this.typeShowing} — Theme switcher — Change to \"${theme}\"`, 'Click')\r\n    })\r\n    NODES.E.themeSwitcher.appendChild(NODES.E.themeSwitcherInput)\r\n\r\n    NODES.E.themeSwitcher.appendChild(createElement('span'))\r\n\r\n    NODES.E.answersHeader.appendChild(NODES.E.themeSwitcher)\r\n\r\n    NODES.E.answers.appendChild(NODES.E.answersHeader)\r\n\r\n    NODES.E.answersMain = createElement('div', `${CSS.main}__answers--main`)\r\n\r\n    NODES.E.answersList = createElement('ul', `${CSS.main}__answers-list`)\r\n    NODES.E.answersMain.appendChild(NODES.E.answersList)\r\n\r\n    NODES.E.answersResult = createElement('div', `${CSS.main}__answers-result`)\r\n\r\n    NODES.E.answersResultStatus = createElement('div', `${CSS.main}__answers-result--status`)\r\n    NODES.E.answersResult.appendChild(NODES.E.answersResultStatus)\r\n\r\n    NODES.E.answersResultText = createElement('div', `${CSS.main}__answers-result--text`)\r\n    NODES.E.answersResult.appendChild(NODES.E.answersResultText)\r\n\r\n    NODES.E.answersResultBtn = createElement('button', `${CSS.main}__answers-result--next-btn`, { innerText: 'Далее' })\r\n    NODES.E.answersResult.appendChild(NODES.E.answersResultBtn)\r\n\r\n    NODES.E.answersMain.appendChild(NODES.E.answersResult)\r\n\r\n    NODES.E.answers.appendChild(NODES.E.answersMain)\r\n\r\n    NODES.S.quiz.appendChild(NODES.E.answers)\r\n\r\n    NODES.E.finalResult = createElement('div', `${CSS.main}__final-result`)\r\n\r\n    NODES.E.finalResultScore = createElement('div', `${CSS.main}__final--score`)\r\n    NODES.E.finalResult.appendChild(NODES.E.finalResultScore)\r\n\r\n    NODES.E.finalResultShare = createElement('div', `${CSS.main}__final--share`)\r\n    NODES.E.finalResult.appendChild(NODES.E.finalResultShare)\r\n\r\n    NODES.E.finalResultRestart = createElement('div', `${CSS.main}__final--restart-btn`)\r\n    NODES.E.finalResultRestartBtn = createElement('button', '', { innerText: 'Пройти ещё раз' })\r\n\r\n    NODES.E.finalResultRestartBtn.addEventListener('click', () => {\r\n      this.restart()\r\n\r\n      Analytics.sendEvent(`${this.typeShowing} — Restart`, 'Click')\r\n    })\r\n    NODES.E.finalResultRestart.appendChild(NODES.E.finalResultRestartBtn)\r\n\r\n    NODES.E.finalResult.appendChild(NODES.E.finalResultRestart)\r\n\r\n    NODES.E.finalResultSMS = createElement('div', `${CSS.main}__final--sms`)\r\n    NODES.E.finalResult.appendChild(NODES.E.finalResultSMS)\r\n\r\n    NODES.E.finalResultFace = createElement('picture', `${CSS.main}__final--face`)\r\n    NODES.E.finalResultFace.appendChild(createElement('img', '', { alt: '' }))\r\n    NODES.E.finalResult.appendChild(NODES.E.finalResultFace)\r\n\r\n    NODES.S.final.appendChild(NODES.E.finalResult)\r\n\r\n    NODES.E.finalMegafon = createElement('div', `${CSS.main}__final-megafon`)\r\n\r\n    NODES.E.finalMegaLogo = createElement('a', `${CSS.main}__final-megafon--logo`, { href: Data.final_links.logo, target: '_blank' })\r\n    NODES.E.finalMegaLogo.appendChild(createElement('img', '', { src: CDN_URL + Data.images.target_logo.x1, srcset: CDN_URL + Data.images.target_logo.x2, alt: 'Megafon Target logo' }))\r\n    NODES.E.finalMegafon.appendChild(NODES.E.finalMegaLogo)\r\n\r\n    NODES.E.finalMegaText = createElement('div', `${CSS.main}__final-megafon--text`)\r\n    Data.mega_text.forEach(paragraph => {\r\n      NODES.E.finalMegaText.appendChild(createElement('div', '', { innerText: paragraph }))\r\n    })\r\n    NODES.E.finalMegafon.appendChild(NODES.E.finalMegaText)\r\n\r\n    NODES.E.finalMegaButton = createElement('a', `${CSS.main}__final-megafon--link`, { href: Data.final_links.button, target: '_blank', innerText: 'Попробовать' })\r\n    NODES.E.finalMegafon.appendChild(NODES.E.finalMegaButton)\r\n\r\n    NODES.S.final.appendChild(NODES.E.finalMegafon)\r\n\r\n    NODES.E.cache = createElement('div', `${CSS.main}__cache`)\r\n    this.container.appendChild(NODES.E.cache)\r\n  }\r\n\r\n  showScreen(screen) {\r\n    toArray(NODES.S.ALL.childNodes).forEach(node => {\r\n      if ('show' in node.dataset) {\r\n        delete node.dataset.show\r\n      }\r\n    })\r\n\r\n    NODES.S[screen].dataset.show = ''\r\n  }\r\n\r\n  spawnSMS({ type = 'text', sender = 'Неизвестный номер', text = '', typing = false, tail = 'left', images = {}, success = true, scroll = true }) {\r\n    let sms = document.createElement('div')\r\n\r\n    let scrollToSMS = () => scroll\r\n      ? scrollIntoView(sms, NODES.E.chat, {\r\n        block: 'end',\r\n        behavior: 'smooth',\r\n        duration: 1000\r\n      })\r\n      : () => {}\r\n\r\n    if (type === 'text') {\r\n      sms = NODES.T.textSMS.cloneNode('true')\r\n\r\n      let senderField = U.qsf('div[class$=\"sender\"]', sms)\r\n\r\n      let textField = U.qsf('div[class$=\"text\"]', sms)\r\n\r\n      let _time = typing ? TIME : 0\r\n\r\n      sms.dataset.tail = tail\r\n\r\n      if (typing) {\r\n        textField.textContent = 'Печатает'\r\n\r\n        sms.dataset.typing = ''\r\n      }\r\n\r\n      setTimeout(() => {\r\n        senderField.textContent = sender\r\n        textField.textContent = text\r\n\r\n        if (typing) {\r\n          delete sms.dataset.typing\r\n        }\r\n\r\n        scrollToSMS()\r\n      }, _time)\r\n\r\n    } else if (type === 'face') {\r\n      sms = NODES.T.faceSMS.cloneNode('true')\r\n\r\n      //setTimeout(() => {\r\n        if (success) {\r\n          sms.dataset.success = ''\r\n        } else {\r\n          sms.dataset.failure = ''\r\n        }\r\n      //}, TIME)\r\n\r\n      let faceImg = U.qsf('img[class$=\"face\"]', sms)\r\n\r\n      faceImg.src = images.x1\r\n      faceImg.srcset = images.x2\r\n    }\r\n\r\n    if (\r\n      !U.qsf(`.${CSS.main}__sms`, NODES.E.chat) &&\r\n      !U.qsf(`.${CSS.main}__sms[data-solo]`, NODES.E.chat)\r\n    ) {\r\n      sms.dataset.solo = ''\r\n    }\r\n\r\n    if (U.qsf(`.${CSS.main}__sms[data-solo]`, NODES.E.chat)) {\r\n      delete U.qsf(`.${CSS.main}__sms[data-solo]`, NODES.E.chat).dataset.solo\r\n    }\r\n\r\n    NODES.E.chat.appendChild(sms)\r\n\r\n    scrollToSMS()\r\n  }\r\n\r\n  showResult(success, text = false, next) {\r\n    NODES.E.answers.dataset.show = 'result'\r\n\r\n    NODES.E.answersResult.dataset.right = success ? 'yes': 'no'\r\n\r\n    NODES.E.answersResultStatus.textContent = success ? 'Доставлено' : 'Не доставлено'\r\n\r\n    NODES.E.answersResultText.innerHTML = text ? text : ''\r\n\r\n    switch (next) {\r\n      case 'q':\r\n        NODES.E.answersResultBtn.onclick = () => {\r\n          this.nextQuestion()\r\n\r\n          Analytics.sendEvent(`${this.typeShowing} — Next question — To question №${this.qIndex + 1}, score is ${this.score}`, 'Click')\r\n        }\r\n        NODES.E.answersResultBtn.textContent = 'Далее'; break\r\n\r\n      case 'l':\r\n        NODES.E.answersResultBtn.onclick = () => {\r\n          this.showAnswers()\r\n          this.nextLevel()\r\n\r\n          Analytics.sendEvent(`${this.typeShowing} — Next level — Question №${this.qIndex + 1}, to level ${this.qLevel + 1}`, 'Click')\r\n        }\r\n        NODES.E.answersResultBtn.textContent = 'Попробовать снова'; break\r\n\r\n      case 'end':\r\n        NODES.E.answersResultBtn.onclick = () => {\r\n          this.final()\r\n\r\n          Analytics.sendEvent(`${this.typeShowing} — End — Score is ${this.score}`, 'Click')\r\n        }\r\n        NODES.E.answersResultBtn.textContent = 'Завершить тест'; break\r\n    }\r\n\r\n    if (!this.btnsClickAbility) {\r\n      this.btnsClickAbility = true\r\n    }\r\n  }\r\n\r\n  showAnswers() {\r\n    NODES.E.answers.dataset.show = 'answers'\r\n  }\r\n\r\n  nextLevel() {\r\n    ++this.qLevel\r\n\r\n    this.spawnSMS({\r\n      text: this.getCurrentLevel().text\r\n    })\r\n  }\r\n\r\n  nextQuestion() {\r\n    ++this.qIndex\r\n\r\n    this.qLevel = 0\r\n\r\n    this.newQuestion()\r\n\r\n    this.showAnswers()\r\n  }\r\n\r\n  newQuestion() {\r\n    let currQ = this.getCurrentQuestion()\r\n\r\n    NODES.E.headerCounter.textContent = `${this.qIndex + 1}/${this.quizLength}`\r\n\r\n    clearNode(NODES.E.answersList)\r\n\r\n    this.spawnSMS({\r\n      text: this.getCurrentLevel().text\r\n    })\r\n\r\n    currQ.answers.forEach(answerData => {\r\n      let answerItem = createElement('li', `${CSS.main}__answers-list-item`)\r\n\r\n      let answerItemBtn = NODES.T.answerItemBtn.cloneNode('true')\r\n\r\n      if ('clicked' in answerData) {\r\n        delete answerData.clicked\r\n      }\r\n\r\n      let faceImg = U.qsf('img', answerItemBtn)\r\n\r\n      faceImg.src = CDN_URL + Data.images.faces[answerData.id]\r\n      faceImg.srcset = CDN_URL + Data.images.faces_2x[answerData.id] + ' 2x'\r\n\r\n      U.qsf('p[class$=\"name\"]', answerItemBtn).textContent = answerData.who\r\n      U.qsf('p[class$=\"company\"]', answerItemBtn).innerHTML = answerData.company\r\n\r\n      answerItemBtn.addEventListener('click', e => {\r\n        if (!this.btnsClickAbility) { return }\r\n\r\n        if ('clicked' in answerData) {\r\n          this.spawnSMS({\r\n            sender: 'vc.ru',\r\n            text: ':)',\r\n            tail: 'right'\r\n          })\r\n\r\n          return\r\n        }\r\n\r\n        // Кэширование изображений только в случае первого клика\r\n\r\n        if (this.qIndex === 0 && this.qLevel === 0) {\r\n          this.cacheImages()\r\n        }\r\n\r\n        answerData.clicked = true\r\n\r\n        let cat = (answerData.id in this.getCurrentLevel().answersTexts)\r\n          ? this.getCurrentLevel().answersTexts[answerData.id]\r\n          : {}\r\n\r\n        let isRight = ('right' in answerData && answerData.right)\r\n\r\n        if (isRight) {\r\n          this.increaseScore()\r\n        }\r\n\r\n        this.btnsClickAbility = false\r\n\r\n        Analytics.sendEvent(`${this.typeShowing} — Answer — Question №${this.qIndex + 1}, level ${this.qLevel + 1}, ${isRight ? 'right' : 'wrong'}`, 'Click')\r\n\r\n        this.spawnSMS({\r\n          type: 'face',\r\n          images: {\r\n            x1: CDN_URL + Data.images.faces[answerData.id],\r\n            x2: CDN_URL + Data.images.faces_2x[answerData.id]\r\n          },\r\n          success: isRight,\r\n          scroll: !isRight\r\n        })\r\n\r\n        let nextEvent =\r\n          (typeof currQ.levels[this.qLevel + 1] === 'undefined' || isRight)\r\n            ? 'q'\r\n            : 'l'\r\n\r\n        if (\r\n          nextEvent === 'q' &&\r\n          (this.qIndex + 1) === this.quizLength\r\n        ) {\r\n          nextEvent = 'end'\r\n        }\r\n\r\n        // NODES.E.headerTyping.style.display = 'block'\r\n\r\n        if ('chat' in cat) {\r\n          this.spawnSMS({\r\n            sender: answerData.who,\r\n            text: cat.chat,\r\n            tail: 'right',\r\n            typing: true\r\n          })\r\n        }\r\n\r\n        if (!isRight) {\r\n          e.target.disabled = true\r\n        }\r\n\r\n        /*\r\n         * В норме, this.showResult() может отработать и для перехода на следующий этап\r\n         * Здесь эта возможность убрана, но убрав if-else, её можно вернуть\r\n         */\r\n\r\n        if (nextEvent === 'q' || nextEvent === 'end') {\r\n          this.showResult(\r\n            isRight,\r\n\r\n            ('result' in cat)\r\n              ? cat.result\r\n              : false,\r\n\r\n            nextEvent\r\n          )\r\n        } else {\r\n          this.nextLevel()\r\n\r\n          if (!this.btnsClickAbility) {\r\n            this.btnsClickAbility = true\r\n          }\r\n        }\r\n\r\n        // setTimeout(() => {\r\n        //   if (!isRight) {\r\n        //     e.target.disabled = true\r\n        //   }\r\n\r\n        //   if (nextEvent === 'q' || nextEvent === 'end') {\r\n        //     this.showResult(\r\n        //       isRight,\r\n\r\n        //       ('result' in cat)\r\n        //         ? cat.result\r\n        //         : false,\r\n\r\n        //       nextEvent\r\n        //     )\r\n        //   } else {\r\n        //     this.nextLevel()\r\n\r\n        //     if (!this.btnsClickAbility) {\r\n        //       this.btnsClickAbility = true\r\n        //     }\r\n        //   }\r\n        // }, TIME)\r\n      })\r\n\r\n      answerItem.appendChild(answerItemBtn)\r\n\r\n      NODES.E.answersList.appendChild(answerItem)\r\n    })\r\n  }\r\n\r\n  final() {\r\n    let resultsPersonsKeys = Object.keys(Data.quiz.results)\r\n\r\n    let person = resultsPersonsKeys[U.random({ max: resultsPersonsKeys.length - 1 })]\r\n\r\n    let results = this.results[person]\r\n\r\n    let scoreKey = -1\r\n\r\n    Object.keys(results).forEach(key => {\r\n      if (this.score >= Number(key)) { scoreKey++ }\r\n    })\r\n\r\n    let ourResult = Object.values(results)[scoreKey]\r\n\r\n    NODES.E.finalResultScore.textContent = `${this.score} из ${this.quizLength} правильных ответов`\r\n\r\n    clearNode(NODES.E.finalResultShare)\r\n\r\n    Share.make(NODES.E.finalResultShare, {\r\n      url: this.params.share.url + '/' + person + '/' + (scoreKey + 1),\r\n      title: this.params.share.title,\r\n      twitter: this.params.share.title,\r\n    }, this.typeShowing)\r\n\r\n    let finalFaceImg = U.qsf('img', NODES.E.finalResultFace)\r\n\r\n    clearNode(NODES.E.finalResultSMS)\r\n\r\n    NODES.E.finalResultSMS.appendChild(NODES.T.textSMS.cloneNode(true))\r\n\r\n    NODES.E.finalResultSMS.firstChild.dataset.tail = 'left'\r\n\r\n    U.qsf('div[class$=\"--sender\"]', NODES.E.finalResultSMS).textContent = ourResult.sender\r\n    U.qsf('div[class$=\"--text\"]', NODES.E.finalResultSMS).innerHTML = U.prepareText(ourResult.text)\r\n\r\n    finalFaceImg.src = CDN_URL + Data.images.faces[`${person}_nichosi`]\r\n    finalFaceImg.srcset = CDN_URL + Data.images.faces_2x[`${person}_nichosi`]\r\n\r\n    this.showScreen('final')\r\n  }\r\n\r\n  restart() {\r\n    this.qIndex = 0\r\n    this.qLevel = 0\r\n    this.score = 0\r\n\r\n    clearNode(NODES.E.chat, [`${CSS.main}__chat--bottom`])\r\n\r\n    this.newQuestion()\r\n\r\n    this.showAnswers()\r\n\r\n    this.showScreen('quiz')\r\n  }\r\n\r\n  cacheImages() {\r\n    let images = []\r\n\r\n    this.imagesIsCached = true\r\n\r\n    Object.keys(Data.images.faces).forEach(key => {\r\n      images.push(CDN_URL + Data.images.faces[key])\r\n      images.push(CDN_URL + Data.images.faces_2x[key])\r\n    })\r\n\r\n    Object.keys(Data.images.target_logo).forEach(key => {\r\n      images.push(CDN_URL + Data.images.target_logo[key])\r\n    })\r\n\r\n    images.forEach(image => {\r\n      NODES.E.cache.appendChild(\r\n        createElement('img', '', { src: image, alt: 'cached image' })\r\n      )\r\n    })\r\n  }\r\n\r\n  init() {\r\n    this.setInitialParams()\r\n\r\n    this.prepareQuestions()\r\n\r\n    this.createTemplates()\r\n    this.createElements()\r\n\r\n    this.newQuestion()\r\n\r\n    // NODES.E.headerCounter.addEventListener('dblclick', () => {\r\n    //   this.score = U.random({ max: this.quizLength })\r\n    //   this.final()\r\n    // })\r\n\r\n    this.showScreen('quiz')\r\n\r\n    Analytics.sendEvent(`${this.typeShowing} — Show`, 'Init')\r\n  }\r\n}\r\n\r\nexport { Special }\r\n","/**\r\n * Entry point\r\n */\r\n\r\nexport { Special } from './js/special'\r\n"],"sourceRoot":""}