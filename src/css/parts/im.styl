&-im

  &__header
    height 55px
    color var(--mgfn__header-text-color)
    background-color var(--mgfn__header-bg-color)
    user-select none
    cursor default
    transition var(--mgfn__switch-theme-transilion)

  &__operator, &__status
    position absolute

    font-size 9px

  &__operator
    top 0; left 18px

  &__status
    top: -1px; right 19px

    & > *
      display inline-block
      vertical-align middle

    &--battery
      position relative
      width 20px; height 10px

      margin-left 3px

      border 1px solid #fff
      border-radius 3px

      padding 1px

      & > div
        width 80%; height 100%

        background-color #fff

      &:after
        content ''

        position absolute
        top 2px; right -4px

        background-color #fff
        border-radius 0 10px 10px 0

        width 2px; height 4px

  &__sender
    position relative
    padding-top 26px

  &__sender-name
    font-size 15px
    text-align center

  &__sender-avatar
    position absolute
    width 20px; height 20px
    bottom 2px; right 10px

    background-image var(--mgfn__img-anon)
    background-size cover

  &__messages
    height 230px

    background-color var(--mgtn__chat-bg-color)
    background-image var(--mgfn__img-chat-bg)
    background-size cover

    overflow hidden
    overflow-y scroll

    transition var(--mgfn__switch-theme-transilion)

    @media (min-width 568px)
      height 290px

    &-wrapper
      display flex
      align-items flex-end
      min-height 100%

    &-inner
      overflow hidden

      will-change transform

      transform translate3d(0, 100%, 0)

    &-list
      display flex
      flex-direction column
      justify-content flex-end
      align-items flex-start
      padding 20px 20px 0

  &__msg
    position relative
    margin-bottom 25px

    background-color #fff
    box-shadow 0 0 12px rgba(#000, .15)
    border-radius 25px

    &[data-typing]
      color gray

      & > span
        display inline-block
        animation mgfn__typing 1.3s linear infinite

        &:nth-child(2)
          animation-delay -1.1s

        &:nth-child(3)
          animation-delay -.9s

        &:last-child
          margin-right 5px

    &::after
      position absolute

      width 25px; height 50px
      bottom -2px;

      background-color #fff

    &[data-sender='from']
      &::after
        content ''

        left -11.5px

        @-moz-document url-prefix()
          &
            left -7px

        clip-path url(#mgfn-trgt__sms-tail-left)

    &[data-sender='to']
      margin-left auto

      background-color var(--mgtn__user-sms-bg-color)

      &::after
        content ''

        right -11.5px

        background-color var(--mgtn__user-sms-bg-color)

        clip-path url(#mgfn-trgt__sms-tail-right)

    &--text
      font-size 14px
      line-height 1.3

      padding 12px 15px

    &--face
      display flex
      justify-content flex-end

      position relative

      padding 0

      box-shadow none

      & > img
        display block
        height 140px

        filter drop-shadow(0px 0px 11px rgba(#000, .17))

      &, &:after
        background-color transparent !important

    &-mark
      position absolute
      bottom 0; right 0

      $msgMarkSize = 25px
      width $msgMarkSize; height $msgMarkSize

      background-size contain
      background-position center center
      background-repeat no-repeat

      z-index 1

    &[data-correct='true']
      // &, &:after
      //   background-color #E4FEEE

      & ^[-1]-mark
        background-image var(--mgfn__svg-mark_success)

    &[data-correct='false']
      // &, &:after
      //   background-color #FFDBD9

      & ^[-1]-mark
        background-image var(--mgfn__svg-mark_failure)

  &__msg-author
    margin-bottom 3px
    color var(--mgtn__chat-text-color)
    white-space nowrap
    transition var(--mgfn__switch-theme-transilion)
    webkit-anim-delay()

    &:empty
      display none
